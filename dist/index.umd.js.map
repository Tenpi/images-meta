{"version":3,"file":"index.umd.js","sources":["../node_modules/piexifjs/piexif.js","../src/utils/atob.js","../src/lib/data-converter.js","../src/lib/meta-converter.js","../src/lib/meta-reader/jpeg.js","../node_modules/crc-32/crc32.js","../node_modules/png-chunks-extract/index.js","../node_modules/png-chunk-text/encode.js","../node_modules/png-chunk-text/decode.js","../node_modules/png-chunk-text/index.js","../src/lib/meta-reader/png.js","../src/lib/read-meta.js","../src/utils/btoa.js","../src/lib/meta-writer/jpeg.js","../node_modules/sliced/index.js","../node_modules/png-chunks-encode/index.js","../src/lib/meta-writer/png.js","../src/lib/write-meta.js","../src/index.js"],"sourcesContent":["/* piexifjs\r\n\r\nThe MIT License (MIT)\r\n\r\nCopyright (c) 2014, 2015 hMatoba(https://github.com/hMatoba)\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\nSOFTWARE.\r\n*/\r\n\r\n(function () {\r\n    \"use strict\";\r\n    var that = {};\r\n    that.version = \"1.0.4\";\r\n\r\n    that.remove = function (jpeg) {\r\n        var b64 = false;\r\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\r\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n            jpeg = atob(jpeg.split(\",\")[1]);\r\n            b64 = true;\r\n        } else {\r\n            throw new Error(\"Given data is not jpeg.\");\r\n        }\r\n        \r\n        var segments = splitIntoSegments(jpeg);\r\n        var newSegments = segments.filter(function(seg){\r\n          return  !(seg.slice(0, 2) == \"\\xff\\xe1\" &&\r\n                   seg.slice(4, 10) == \"Exif\\x00\\x00\"); \r\n        });\r\n        \r\n        var new_data = newSegments.join(\"\");\r\n        if (b64) {\r\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\r\n        }\r\n\r\n        return new_data;\r\n    };\r\n\r\n\r\n    that.insert = function (exif, jpeg) {\r\n        var b64 = false;\r\n        if (exif.slice(0, 6) != \"\\x45\\x78\\x69\\x66\\x00\\x00\") {\r\n            throw new Error(\"Given data is not exif.\");\r\n        }\r\n        if (jpeg.slice(0, 2) == \"\\xff\\xd8\") {\r\n        } else if (jpeg.slice(0, 23) == \"data:image/jpeg;base64,\" || jpeg.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n            jpeg = atob(jpeg.split(\",\")[1]);\r\n            b64 = true;\r\n        } else {\r\n            throw new Error(\"Given data is not jpeg.\");\r\n        }\r\n\r\n        var exifStr = \"\\xff\\xe1\" + pack(\">H\", [exif.length + 2]) + exif;\r\n        var segments = splitIntoSegments(jpeg);\r\n        var new_data = mergeSegments(segments, exifStr);\r\n        if (b64) {\r\n            new_data = \"data:image/jpeg;base64,\" + btoa(new_data);\r\n        }\r\n\r\n        return new_data;\r\n    };\r\n\r\n\r\n    that.load = function (data) {\r\n        var input_data;\r\n        if (typeof (data) == \"string\") {\r\n            if (data.slice(0, 2) == \"\\xff\\xd8\") {\r\n                input_data = data;\r\n            } else if (data.slice(0, 23) == \"data:image/jpeg;base64,\" || data.slice(0, 22) == \"data:image/jpg;base64,\") {\r\n                input_data = atob(data.split(\",\")[1]);\r\n            } else if (data.slice(0, 4) == \"Exif\") {\r\n                input_data = data.slice(6);\r\n            } else {\r\n                throw new Error(\"'load' gots invalid file data.\");\r\n            }\r\n        } else {\r\n            throw new Error(\"'load' gots invalid type argument.\");\r\n        }\r\n\r\n        var exifDict = {};\r\n        var exif_dict = {\r\n            \"0th\": {},\r\n            \"Exif\": {},\r\n            \"GPS\": {},\r\n            \"Interop\": {},\r\n            \"1st\": {},\r\n            \"thumbnail\": null\r\n        };\r\n        var exifReader = new ExifReader(input_data);\r\n        if (exifReader.tiftag === null) {\r\n            return exif_dict;\r\n        }\r\n\r\n        if (exifReader.tiftag.slice(0, 2) == \"\\x49\\x49\") {\r\n            exifReader.endian_mark = \"<\";\r\n        } else {\r\n            exifReader.endian_mark = \">\";\r\n        }\r\n\r\n        var pointer = unpack(exifReader.endian_mark + \"L\",\r\n            exifReader.tiftag.slice(4, 8))[0];\r\n        exif_dict[\"0th\"] = exifReader.get_ifd(pointer, \"0th\");\r\n\r\n        var first_ifd_pointer = exif_dict[\"0th\"][\"first_ifd_pointer\"];\r\n        delete exif_dict[\"0th\"][\"first_ifd_pointer\"];\r\n\r\n        if (34665 in exif_dict[\"0th\"]) {\r\n            pointer = exif_dict[\"0th\"][34665];\r\n            exif_dict[\"Exif\"] = exifReader.get_ifd(pointer, \"Exif\");\r\n        }\r\n        if (34853 in exif_dict[\"0th\"]) {\r\n            pointer = exif_dict[\"0th\"][34853];\r\n            exif_dict[\"GPS\"] = exifReader.get_ifd(pointer, \"GPS\");\r\n        }\r\n        if (40965 in exif_dict[\"Exif\"]) {\r\n            pointer = exif_dict[\"Exif\"][40965];\r\n            exif_dict[\"Interop\"] = exifReader.get_ifd(pointer, \"Interop\");\r\n        }\r\n        if (first_ifd_pointer != \"\\x00\\x00\\x00\\x00\") {\r\n            pointer = unpack(exifReader.endian_mark + \"L\",\r\n                first_ifd_pointer)[0];\r\n            exif_dict[\"1st\"] = exifReader.get_ifd(pointer, \"1st\");\r\n            if ((513 in exif_dict[\"1st\"]) && (514 in exif_dict[\"1st\"])) {\r\n                var end = exif_dict[\"1st\"][513] + exif_dict[\"1st\"][514];\r\n                var thumb = exifReader.tiftag.slice(exif_dict[\"1st\"][513], end);\r\n                exif_dict[\"thumbnail\"] = thumb;\r\n            }\r\n        }\r\n\r\n        return exif_dict;\r\n    };\r\n\r\n\r\n    that.dump = function (exif_dict_original) {\r\n        var TIFF_HEADER_LENGTH = 8;\r\n\r\n        var exif_dict = copy(exif_dict_original);\r\n        var header = \"Exif\\x00\\x00\\x4d\\x4d\\x00\\x2a\\x00\\x00\\x00\\x08\";\r\n        var exif_is = false;\r\n        var gps_is = false;\r\n        var interop_is = false;\r\n        var first_is = false;\r\n\r\n        var zeroth_ifd,\r\n            exif_ifd,\r\n            interop_ifd,\r\n            gps_ifd,\r\n            first_ifd;\r\n        \r\n        if (\"0th\" in exif_dict) {\r\n            zeroth_ifd = exif_dict[\"0th\"];\r\n        } else {\r\n            zeroth_ifd = {};\r\n        }\r\n        \r\n        if (((\"Exif\" in exif_dict) && (Object.keys(exif_dict[\"Exif\"]).length)) ||\r\n            ((\"Interop\" in exif_dict) && (Object.keys(exif_dict[\"Interop\"]).length))) {\r\n            zeroth_ifd[34665] = 1;\r\n            exif_is = true;\r\n            exif_ifd = exif_dict[\"Exif\"];\r\n            if ((\"Interop\" in exif_dict) && Object.keys(exif_dict[\"Interop\"]).length) {\r\n                exif_ifd[40965] = 1;\r\n                interop_is = true;\r\n                interop_ifd = exif_dict[\"Interop\"];\r\n            } else if (Object.keys(exif_ifd).indexOf(that.ExifIFD.InteroperabilityTag.toString()) > -1) {\r\n                delete exif_ifd[40965];\r\n            }\r\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.ExifTag.toString()) > -1) {\r\n            delete zeroth_ifd[34665];\r\n        }\r\n\r\n        if ((\"GPS\" in exif_dict) && (Object.keys(exif_dict[\"GPS\"]).length)) {\r\n            zeroth_ifd[that.ImageIFD.GPSTag] = 1;\r\n            gps_is = true;\r\n            gps_ifd = exif_dict[\"GPS\"];\r\n        } else if (Object.keys(zeroth_ifd).indexOf(that.ImageIFD.GPSTag.toString()) > -1) {\r\n            delete zeroth_ifd[that.ImageIFD.GPSTag];\r\n        }\r\n        \r\n        if ((\"1st\" in exif_dict) &&\r\n            (\"thumbnail\" in exif_dict) &&\r\n            (exif_dict[\"thumbnail\"] != null)) {\r\n            first_is = true;\r\n            exif_dict[\"1st\"][513] = 1;\r\n            exif_dict[\"1st\"][514] = 1;\r\n            first_ifd = exif_dict[\"1st\"];\r\n        }\r\n        \r\n        var zeroth_set = _dict_to_bytes(zeroth_ifd, \"0th\", 0);\r\n        var zeroth_length = (zeroth_set[0].length + exif_is * 12 + gps_is * 12 + 4 +\r\n            zeroth_set[1].length);\r\n\r\n        var exif_set,\r\n            exif_bytes = \"\",\r\n            exif_length = 0,\r\n            gps_set,\r\n            gps_bytes = \"\",\r\n            gps_length = 0,\r\n            interop_set,\r\n            interop_bytes = \"\",\r\n            interop_length = 0,\r\n            first_set,\r\n            first_bytes = \"\",\r\n            thumbnail;\r\n        if (exif_is) {\r\n            exif_set = _dict_to_bytes(exif_ifd, \"Exif\", zeroth_length);\r\n            exif_length = exif_set[0].length + interop_is * 12 + exif_set[1].length;\r\n        }\r\n        if (gps_is) {\r\n            gps_set = _dict_to_bytes(gps_ifd, \"GPS\", zeroth_length + exif_length);\r\n            gps_bytes = gps_set.join(\"\");\r\n            gps_length = gps_bytes.length;\r\n        }\r\n        if (interop_is) {\r\n            var offset = zeroth_length + exif_length + gps_length;\r\n            interop_set = _dict_to_bytes(interop_ifd, \"Interop\", offset);\r\n            interop_bytes = interop_set.join(\"\");\r\n            interop_length = interop_bytes.length;\r\n        }\r\n        if (first_is) {\r\n            var offset = zeroth_length + exif_length + gps_length + interop_length;\r\n            first_set = _dict_to_bytes(first_ifd, \"1st\", offset);\r\n            thumbnail = _get_thumbnail(exif_dict[\"thumbnail\"]);\r\n            if (thumbnail.length > 64000) {\r\n                throw new Error(\"Given thumbnail is too large. max 64kB\");\r\n            }\r\n        }\r\n\r\n        var exif_pointer = \"\",\r\n            gps_pointer = \"\",\r\n            interop_pointer = \"\",\r\n            first_ifd_pointer = \"\\x00\\x00\\x00\\x00\";\r\n        if (exif_is) {\r\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length;\r\n            var pointer_str = pack(\">L\", [pointer_value]);\r\n            var key = 34665;\r\n            var key_str = pack(\">H\", [key]);\r\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\r\n            var length_str = pack(\">L\", [1]);\r\n            exif_pointer = key_str + type_str + length_str + pointer_str;\r\n        }\r\n        if (gps_is) {\r\n            var pointer_value = TIFF_HEADER_LENGTH + zeroth_length + exif_length;\r\n            var pointer_str = pack(\">L\", [pointer_value]);\r\n            var key = 34853;\r\n            var key_str = pack(\">H\", [key]);\r\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\r\n            var length_str = pack(\">L\", [1]);\r\n            gps_pointer = key_str + type_str + length_str + pointer_str;\r\n        }\r\n        if (interop_is) {\r\n            var pointer_value = (TIFF_HEADER_LENGTH +\r\n                zeroth_length + exif_length + gps_length);\r\n            var pointer_str = pack(\">L\", [pointer_value]);\r\n            var key = 40965;\r\n            var key_str = pack(\">H\", [key]);\r\n            var type_str = pack(\">H\", [TYPES[\"Long\"]]);\r\n            var length_str = pack(\">L\", [1]);\r\n            interop_pointer = key_str + type_str + length_str + pointer_str;\r\n        }\r\n        if (first_is) {\r\n            var pointer_value = (TIFF_HEADER_LENGTH + zeroth_length +\r\n                exif_length + gps_length + interop_length);\r\n            first_ifd_pointer = pack(\">L\", [pointer_value]);\r\n            var thumbnail_pointer = (pointer_value + first_set[0].length + 24 +\r\n                4 + first_set[1].length);\r\n            var thumbnail_p_bytes = (\"\\x02\\x01\\x00\\x04\\x00\\x00\\x00\\x01\" +\r\n                pack(\">L\", [thumbnail_pointer]));\r\n            var thumbnail_length_bytes = (\"\\x02\\x02\\x00\\x04\\x00\\x00\\x00\\x01\" +\r\n                pack(\">L\", [thumbnail.length]));\r\n            first_bytes = (first_set[0] + thumbnail_p_bytes +\r\n                thumbnail_length_bytes + \"\\x00\\x00\\x00\\x00\" +\r\n                first_set[1] + thumbnail);\r\n        }\r\n\r\n        var zeroth_bytes = (zeroth_set[0] + exif_pointer + gps_pointer +\r\n            first_ifd_pointer + zeroth_set[1]);\r\n        if (exif_is) {\r\n            exif_bytes = exif_set[0] + interop_pointer + exif_set[1];\r\n        }\r\n\r\n        return (header + zeroth_bytes + exif_bytes + gps_bytes +\r\n            interop_bytes + first_bytes);\r\n    };\r\n\r\n\r\n    function copy(obj) {\r\n        return JSON.parse(JSON.stringify(obj));\r\n    }\r\n\r\n\r\n    function _get_thumbnail(jpeg) {\r\n        var segments = splitIntoSegments(jpeg);\r\n        while ((\"\\xff\\xe0\" <= segments[1].slice(0, 2)) && (segments[1].slice(0, 2) <= \"\\xff\\xef\")) {\r\n            segments = [segments[0]].concat(segments.slice(2));\r\n        }\r\n        return segments.join(\"\");\r\n    }\r\n\r\n\r\n    function _pack_byte(array) {\r\n        return pack(\">\" + nStr(\"B\", array.length), array);\r\n    }\r\n\r\n\r\n    function _pack_short(array) {\r\n        return pack(\">\" + nStr(\"H\", array.length), array);\r\n    }\r\n\r\n\r\n    function _pack_long(array) {\r\n        return pack(\">\" + nStr(\"L\", array.length), array);\r\n    }\r\n\r\n\r\n    function _value_to_bytes(raw_value, value_type, offset) {\r\n        var four_bytes_over = \"\";\r\n        var value_str = \"\";\r\n        var length,\r\n            new_value,\r\n            num,\r\n            den;\r\n\r\n        if (value_type == \"Byte\") {\r\n            length = raw_value.length;\r\n            if (length <= 4) {\r\n                value_str = (_pack_byte(raw_value) +\r\n                    nStr(\"\\x00\", 4 - length));\r\n            } else {\r\n                value_str = pack(\">L\", [offset]);\r\n                four_bytes_over = _pack_byte(raw_value);\r\n            }\r\n        } else if (value_type == \"Short\") {\r\n            length = raw_value.length;\r\n            if (length <= 2) {\r\n                value_str = (_pack_short(raw_value) +\r\n                    nStr(\"\\x00\\x00\", 2 - length));\r\n            } else {\r\n                value_str = pack(\">L\", [offset]);\r\n                four_bytes_over = _pack_short(raw_value);\r\n            }\r\n        } else if (value_type == \"Long\") {\r\n            length = raw_value.length;\r\n            if (length <= 1) {\r\n                value_str = _pack_long(raw_value);\r\n            } else {\r\n                value_str = pack(\">L\", [offset]);\r\n                four_bytes_over = _pack_long(raw_value);\r\n            }\r\n        } else if (value_type == \"Ascii\") {\r\n            new_value = raw_value + \"\\x00\";\r\n            length = new_value.length;\r\n            if (length > 4) {\r\n                value_str = pack(\">L\", [offset]);\r\n                four_bytes_over = new_value;\r\n            } else {\r\n                value_str = new_value + nStr(\"\\x00\", 4 - length);\r\n            }\r\n        } else if (value_type == \"Rational\") {\r\n            if (typeof (raw_value[0]) == \"number\") {\r\n                length = 1;\r\n                num = raw_value[0];\r\n                den = raw_value[1];\r\n                new_value = pack(\">L\", [num]) + pack(\">L\", [den]);\r\n            } else {\r\n                length = raw_value.length;\r\n                new_value = \"\";\r\n                for (var n = 0; n < length; n++) {\r\n                    num = raw_value[n][0];\r\n                    den = raw_value[n][1];\r\n                    new_value += (pack(\">L\", [num]) +\r\n                        pack(\">L\", [den]));\r\n                }\r\n            }\r\n            value_str = pack(\">L\", [offset]);\r\n            four_bytes_over = new_value;\r\n        } else if (value_type == \"SRational\") {\r\n            if (typeof (raw_value[0]) == \"number\") {\r\n                length = 1;\r\n                num = raw_value[0];\r\n                den = raw_value[1];\r\n                new_value = pack(\">l\", [num]) + pack(\">l\", [den]);\r\n            } else {\r\n                length = raw_value.length;\r\n                new_value = \"\";\r\n                for (var n = 0; n < length; n++) {\r\n                    num = raw_value[n][0];\r\n                    den = raw_value[n][1];\r\n                    new_value += (pack(\">l\", [num]) +\r\n                        pack(\">l\", [den]));\r\n                }\r\n            }\r\n            value_str = pack(\">L\", [offset]);\r\n            four_bytes_over = new_value;\r\n        } else if (value_type == \"Undefined\") {\r\n            length = raw_value.length;\r\n            if (length > 4) {\r\n                value_str = pack(\">L\", [offset]);\r\n                four_bytes_over = raw_value;\r\n            } else {\r\n                value_str = raw_value + nStr(\"\\x00\", 4 - length);\r\n            }\r\n        }\r\n\r\n        var length_str = pack(\">L\", [length]);\r\n\r\n        return [length_str, value_str, four_bytes_over];\r\n    }\r\n\r\n    function _dict_to_bytes(ifd_dict, ifd, ifd_offset) {\r\n        var TIFF_HEADER_LENGTH = 8;\r\n        var tag_count = Object.keys(ifd_dict).length;\r\n        var entry_header = pack(\">H\", [tag_count]);\r\n        var entries_length;\r\n        if ([\"0th\", \"1st\"].indexOf(ifd) > -1) {\r\n            entries_length = 2 + tag_count * 12 + 4;\r\n        } else {\r\n            entries_length = 2 + tag_count * 12;\r\n        }\r\n        var entries = \"\";\r\n        var values = \"\";\r\n        var key;\r\n\r\n        for (var key in ifd_dict) {\r\n            if (typeof (key) == \"string\") {\r\n                key = parseInt(key);\r\n            }\r\n            if ((ifd == \"0th\") && ([34665, 34853].indexOf(key) > -1)) {\r\n                continue;\r\n            } else if ((ifd == \"Exif\") && (key == 40965)) {\r\n                continue;\r\n            } else if ((ifd == \"1st\") && ([513, 514].indexOf(key) > -1)) {\r\n                continue;\r\n            }\r\n\r\n            var raw_value = ifd_dict[key];\r\n            var key_str = pack(\">H\", [key]);\r\n            var value_type = TAGS[ifd][key][\"type\"];\r\n            var type_str = pack(\">H\", [TYPES[value_type]]);\r\n\r\n            if (typeof (raw_value) == \"number\") {\r\n                raw_value = [raw_value];\r\n            }\r\n            var offset = TIFF_HEADER_LENGTH + entries_length + ifd_offset + values.length;\r\n            var b = _value_to_bytes(raw_value, value_type, offset);\r\n            var length_str = b[0];\r\n            var value_str = b[1];\r\n            var four_bytes_over = b[2];\r\n\r\n            entries += key_str + type_str + length_str + value_str;\r\n            values += four_bytes_over;\r\n        }\r\n\r\n        return [entry_header + entries, values];\r\n    }\r\n\r\n\r\n\r\n    function ExifReader(data) {\r\n        var segments,\r\n            app1;\r\n        if (data.slice(0, 2) == \"\\xff\\xd8\") { // JPEG\r\n            segments = splitIntoSegments(data);\r\n            app1 = getExifSeg(segments);\r\n            if (app1) {\r\n                this.tiftag = app1.slice(10);\r\n            } else {\r\n                this.tiftag = null;\r\n            }\r\n        } else if ([\"\\x49\\x49\", \"\\x4d\\x4d\"].indexOf(data.slice(0, 2)) > -1) { // TIFF\r\n            this.tiftag = data;\r\n        } else if (data.slice(0, 4) == \"Exif\") { // Exif\r\n            this.tiftag = data.slice(6);\r\n        } else {\r\n            throw new Error(\"Given file is neither JPEG nor TIFF.\");\r\n        }\r\n    }\r\n\r\n    ExifReader.prototype = {\r\n        get_ifd: function (pointer, ifd_name) {\r\n            var ifd_dict = {};\r\n            var tag_count = unpack(this.endian_mark + \"H\",\r\n                this.tiftag.slice(pointer, pointer + 2))[0];\r\n            var offset = pointer + 2;\r\n            var t;\r\n            if ([\"0th\", \"1st\"].indexOf(ifd_name) > -1) {\r\n                t = \"Image\";\r\n            } else {\r\n                t = ifd_name;\r\n            }\r\n\r\n            for (var x = 0; x < tag_count; x++) {\r\n                pointer = offset + 12 * x;\r\n                var tag = unpack(this.endian_mark + \"H\",\r\n                    this.tiftag.slice(pointer, pointer + 2))[0];\r\n                var value_type = unpack(this.endian_mark + \"H\",\r\n                    this.tiftag.slice(pointer + 2, pointer + 4))[0];\r\n                var value_num = unpack(this.endian_mark + \"L\",\r\n                    this.tiftag.slice(pointer + 4, pointer + 8))[0];\r\n                var value = this.tiftag.slice(pointer + 8, pointer + 12);\r\n\r\n                var v_set = [value_type, value_num, value];\r\n                if (tag in TAGS[t]) {\r\n                    ifd_dict[tag] = this.convert_value(v_set);\r\n                }\r\n            }\r\n\r\n            if (ifd_name == \"0th\") {\r\n                pointer = offset + 12 * tag_count;\r\n                ifd_dict[\"first_ifd_pointer\"] = this.tiftag.slice(pointer, pointer + 4);\r\n            }\r\n\r\n            return ifd_dict;\r\n        },\r\n\r\n        convert_value: function (val) {\r\n            var data = null;\r\n            var t = val[0];\r\n            var length = val[1];\r\n            var value = val[2];\r\n            var pointer;\r\n\r\n            if (t == 1) { // BYTE\r\n                if (length > 4) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = unpack(this.endian_mark + nStr(\"B\", length),\r\n                        this.tiftag.slice(pointer, pointer + length));\r\n                } else {\r\n                    data = unpack(this.endian_mark + nStr(\"B\", length), value.slice(0, length));\r\n                }\r\n            } else if (t == 2) { // ASCII\r\n                if (length > 4) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = this.tiftag.slice(pointer, pointer + length - 1);\r\n                } else {\r\n                    data = value.slice(0, length - 1);\r\n                }\r\n            } else if (t == 3) { // SHORT\r\n                if (length > 2) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\r\n                        this.tiftag.slice(pointer, pointer + length * 2));\r\n                } else {\r\n                    data = unpack(this.endian_mark + nStr(\"H\", length),\r\n                        value.slice(0, length * 2));\r\n                }\r\n            } else if (t == 4) { // LONG\r\n                if (length > 1) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\r\n                        this.tiftag.slice(pointer, pointer + length * 4));\r\n                } else {\r\n                    data = unpack(this.endian_mark + nStr(\"L\", length),\r\n                        value);\r\n                }\r\n            } else if (t == 5) { // RATIONAL\r\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                if (length > 1) {\r\n                    data = [];\r\n                    for (var x = 0; x < length; x++) {\r\n                        data.push([unpack(this.endian_mark + \"L\",\r\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\r\n                                   unpack(this.endian_mark + \"L\",\r\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\r\n                                   ]);\r\n                    }\r\n                } else {\r\n                    data = [unpack(this.endian_mark + \"L\",\r\n                            this.tiftag.slice(pointer, pointer + 4))[0],\r\n                            unpack(this.endian_mark + \"L\",\r\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\r\n                            ];\r\n                }\r\n            } else if (t == 7) { // UNDEFINED BYTES\r\n                if (length > 4) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = this.tiftag.slice(pointer, pointer + length);\r\n                } else {\r\n                    data = value.slice(0, length);\r\n                }\r\n            } else if (t == 9) { // SLONG\r\n                if (length > 1) {\r\n                    pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                    data = unpack(this.endian_mark + nStr(\"l\", length),\r\n                        this.tiftag.slice(pointer, pointer + length * 4));\r\n                } else {\r\n                    data = unpack(this.endian_mark + nStr(\"l\", length),\r\n                        value);\r\n                }\r\n            } else if (t == 10) { // SRATIONAL\r\n                pointer = unpack(this.endian_mark + \"L\", value)[0];\r\n                if (length > 1) {\r\n                    data = [];\r\n                    for (var x = 0; x < length; x++) {\r\n                        data.push([unpack(this.endian_mark + \"l\",\r\n                                this.tiftag.slice(pointer + x * 8, pointer + 4 + x * 8))[0],\r\n                                   unpack(this.endian_mark + \"l\",\r\n                                this.tiftag.slice(pointer + 4 + x * 8, pointer + 8 + x * 8))[0]\r\n                                  ]);\r\n                    }\r\n                } else {\r\n                    data = [unpack(this.endian_mark + \"l\",\r\n                            this.tiftag.slice(pointer, pointer + 4))[0],\r\n                            unpack(this.endian_mark + \"l\",\r\n                            this.tiftag.slice(pointer + 4, pointer + 8))[0]\r\n                           ];\r\n                }\r\n            } else {\r\n                throw new Error(\"Exif might be wrong. Got incorrect value \" +\r\n                    \"type to decode. type:\" + t);\r\n            }\r\n\r\n            if ((data instanceof Array) && (data.length == 1)) {\r\n                return data[0];\r\n            } else {\r\n                return data;\r\n            }\r\n        },\r\n    };\r\n\r\n\r\n    if (typeof window !== \"undefined\" && typeof window.btoa === \"function\") {\r\n        var btoa = window.btoa;\r\n    }\r\n    if (typeof btoa === \"undefined\") {\r\n        var btoa = function (input) {        var output = \"\";\r\n            var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n            while (i < input.length) {\r\n\r\n                chr1 = input.charCodeAt(i++);\r\n                chr2 = input.charCodeAt(i++);\r\n                chr3 = input.charCodeAt(i++);\r\n\r\n                enc1 = chr1 >> 2;\r\n                enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n                enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n                enc4 = chr3 & 63;\r\n\r\n                if (isNaN(chr2)) {\r\n                    enc3 = enc4 = 64;\r\n                } else if (isNaN(chr3)) {\r\n                    enc4 = 64;\r\n                }\r\n\r\n                output = output +\r\n                keyStr.charAt(enc1) + keyStr.charAt(enc2) +\r\n                keyStr.charAt(enc3) + keyStr.charAt(enc4);\r\n\r\n            }\r\n\r\n            return output;\r\n        };\r\n    }\r\n    \r\n    \r\n    if (typeof window !== \"undefined\" && typeof window.atob === \"function\") {\r\n        var atob = window.atob;\r\n    }\r\n    if (typeof atob === \"undefined\") {\r\n        var atob = function (input) {\r\n            var output = \"\";\r\n            var chr1, chr2, chr3;\r\n            var enc1, enc2, enc3, enc4;\r\n            var i = 0;\r\n            var keyStr = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\r\n\r\n            input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\r\n\r\n            while (i < input.length) {\r\n\r\n                enc1 = keyStr.indexOf(input.charAt(i++));\r\n                enc2 = keyStr.indexOf(input.charAt(i++));\r\n                enc3 = keyStr.indexOf(input.charAt(i++));\r\n                enc4 = keyStr.indexOf(input.charAt(i++));\r\n\r\n                chr1 = (enc1 << 2) | (enc2 >> 4);\r\n                chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n                chr3 = ((enc3 & 3) << 6) | enc4;\r\n\r\n                output = output + String.fromCharCode(chr1);\r\n\r\n                if (enc3 != 64) {\r\n                    output = output + String.fromCharCode(chr2);\r\n                }\r\n                if (enc4 != 64) {\r\n                    output = output + String.fromCharCode(chr3);\r\n                }\r\n\r\n            }\r\n\r\n            return output;\r\n        };\r\n    }\r\n\r\n\r\n    function getImageSize(imageArray) {\r\n        var segments = slice2Segments(imageArray);\r\n        var seg,\r\n            width,\r\n            height,\r\n            SOF = [192, 193, 194, 195, 197, 198, 199, 201, 202, 203, 205, 206, 207];\r\n\r\n        for (var x = 0; x < segments.length; x++) {\r\n            seg = segments[x];\r\n            if (SOF.indexOf(seg[1]) >= 0) {\r\n                height = seg[5] * 256 + seg[6];\r\n                width = seg[7] * 256 + seg[8];\r\n                break;\r\n            }\r\n        }\r\n        return [width, height];\r\n    }\r\n\r\n\r\n    function pack(mark, array) {\r\n        if (!(array instanceof Array)) {\r\n            throw new Error(\"'pack' error. Got invalid type argument.\");\r\n        }\r\n        if ((mark.length - 1) != array.length) {\r\n            throw new Error(\"'pack' error. \" + (mark.length - 1) + \" marks, \" + array.length + \" elements.\");\r\n        }\r\n\r\n        var littleEndian;\r\n        if (mark[0] == \"<\") {\r\n            littleEndian = true;\r\n        } else if (mark[0] == \">\") {\r\n            littleEndian = false;\r\n        } else {\r\n            throw new Error(\"\");\r\n        }\r\n        var packed = \"\";\r\n        var p = 1;\r\n        var val = null;\r\n        var c = null;\r\n        var valStr = null;\r\n\r\n        while (c = mark[p]) {\r\n            if (c.toLowerCase() == \"b\") {\r\n                val = array[p - 1];\r\n                if ((c == \"b\") && (val < 0)) {\r\n                    val += 0x100;\r\n                }\r\n                if ((val > 0xff) || (val < 0)) {\r\n                    throw new Error(\"'pack' error.\");\r\n                } else {\r\n                    valStr = String.fromCharCode(val);\r\n                }\r\n            } else if (c == \"H\") {\r\n                val = array[p - 1];\r\n                if ((val > 0xffff) || (val < 0)) {\r\n                    throw new Error(\"'pack' error.\");\r\n                } else {\r\n                    valStr = String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n                        String.fromCharCode(val % 0x100);\r\n                    if (littleEndian) {\r\n                        valStr = valStr.split(\"\").reverse().join(\"\");\r\n                    }\r\n                }\r\n            } else if (c.toLowerCase() == \"l\") {\r\n                val = array[p - 1];\r\n                if ((c == \"l\") && (val < 0)) {\r\n                    val += 0x100000000;\r\n                }\r\n                if ((val > 0xffffffff) || (val < 0)) {\r\n                    throw new Error(\"'pack' error.\");\r\n                } else {\r\n                    valStr = String.fromCharCode(Math.floor(val / 0x1000000)) +\r\n                        String.fromCharCode(Math.floor((val % 0x1000000) / 0x10000)) +\r\n                        String.fromCharCode(Math.floor((val % 0x10000) / 0x100)) +\r\n                        String.fromCharCode(val % 0x100);\r\n                    if (littleEndian) {\r\n                        valStr = valStr.split(\"\").reverse().join(\"\");\r\n                    }\r\n                }\r\n            } else {\r\n                throw new Error(\"'pack' error.\");\r\n            }\r\n\r\n            packed += valStr;\r\n            p += 1;\r\n        }\r\n\r\n        return packed;\r\n    }\r\n\r\n    function unpack(mark, str) {\r\n        if (typeof (str) != \"string\") {\r\n            throw new Error(\"'unpack' error. Got invalid type argument.\");\r\n        }\r\n        var l = 0;\r\n        for (var markPointer = 1; markPointer < mark.length; markPointer++) {\r\n            if (mark[markPointer].toLowerCase() == \"b\") {\r\n                l += 1;\r\n            } else if (mark[markPointer].toLowerCase() == \"h\") {\r\n                l += 2;\r\n            } else if (mark[markPointer].toLowerCase() == \"l\") {\r\n                l += 4;\r\n            } else {\r\n                throw new Error(\"'unpack' error. Got invalid mark.\");\r\n            }\r\n        }\r\n\r\n        if (l != str.length) {\r\n            throw new Error(\"'unpack' error. Mismatch between symbol and string length. \" + l + \":\" + str.length);\r\n        }\r\n\r\n        var littleEndian;\r\n        if (mark[0] == \"<\") {\r\n            littleEndian = true;\r\n        } else if (mark[0] == \">\") {\r\n            littleEndian = false;\r\n        } else {\r\n            throw new Error(\"'unpack' error.\");\r\n        }\r\n        var unpacked = [];\r\n        var strPointer = 0;\r\n        var p = 1;\r\n        var val = null;\r\n        var c = null;\r\n        var length = null;\r\n        var sliced = \"\";\r\n\r\n        while (c = mark[p]) {\r\n            if (c.toLowerCase() == \"b\") {\r\n                length = 1;\r\n                sliced = str.slice(strPointer, strPointer + length);\r\n                val = sliced.charCodeAt(0);\r\n                if ((c == \"b\") && (val >= 0x80)) {\r\n                    val -= 0x100;\r\n                }\r\n            } else if (c == \"H\") {\r\n                length = 2;\r\n                sliced = str.slice(strPointer, strPointer + length);\r\n                if (littleEndian) {\r\n                    sliced = sliced.split(\"\").reverse().join(\"\");\r\n                }\r\n                val = sliced.charCodeAt(0) * 0x100 +\r\n                    sliced.charCodeAt(1);\r\n            } else if (c.toLowerCase() == \"l\") {\r\n                length = 4;\r\n                sliced = str.slice(strPointer, strPointer + length);\r\n                if (littleEndian) {\r\n                    sliced = sliced.split(\"\").reverse().join(\"\");\r\n                }\r\n                val = sliced.charCodeAt(0) * 0x1000000 +\r\n                    sliced.charCodeAt(1) * 0x10000 +\r\n                    sliced.charCodeAt(2) * 0x100 +\r\n                    sliced.charCodeAt(3);\r\n                if ((c == \"l\") && (val >= 0x80000000)) {\r\n                    val -= 0x100000000;\r\n                }\r\n            } else {\r\n                throw new Error(\"'unpack' error. \" + c);\r\n            }\r\n\r\n            unpacked.push(val);\r\n            strPointer += length;\r\n            p += 1;\r\n        }\r\n\r\n        return unpacked;\r\n    }\r\n\r\n    function nStr(ch, num) {\r\n        var str = \"\";\r\n        for (var i = 0; i < num; i++) {\r\n            str += ch;\r\n        }\r\n        return str;\r\n    }\r\n\r\n    function splitIntoSegments(data) {\r\n        if (data.slice(0, 2) != \"\\xff\\xd8\") {\r\n            throw new Error(\"Given data isn't JPEG.\");\r\n        }\r\n\r\n        var head = 2;\r\n        var segments = [\"\\xff\\xd8\"];\r\n        while (true) {\r\n            if (data.slice(head, head + 2) == \"\\xff\\xda\") {\r\n                segments.push(data.slice(head));\r\n                break;\r\n            } else {\r\n                var length = unpack(\">H\", data.slice(head + 2, head + 4))[0];\r\n                var endPoint = head + length + 2;\r\n                segments.push(data.slice(head, endPoint));\r\n                head = endPoint;\r\n            }\r\n\r\n            if (head >= data.length) {\r\n                throw new Error(\"Wrong JPEG data.\");\r\n            }\r\n        }\r\n        return segments;\r\n    }\r\n\r\n\r\n    function getExifSeg(segments) {\r\n        var seg;\r\n        for (var i = 0; i < segments.length; i++) {\r\n            seg = segments[i];\r\n            if (seg.slice(0, 2) == \"\\xff\\xe1\" &&\r\n                   seg.slice(4, 10) == \"Exif\\x00\\x00\") {\r\n                return seg;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    function mergeSegments(segments, exif) {\r\n        var hasExifSegment = false;\r\n        var additionalAPP1ExifSegments = [];\r\n\r\n        segments.forEach(function(segment, i) {\r\n            // Replace first occurence of APP1:Exif segment\r\n            if (segment.slice(0, 2) == \"\\xff\\xe1\" &&\r\n                segment.slice(4, 10) == \"Exif\\x00\\x00\"\r\n            ) {\r\n                if (!hasExifSegment) {\r\n                    segments[i] = exif;\r\n                    hasExifSegment = true;\r\n                } else {\r\n                    additionalAPP1ExifSegments.unshift(i);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Remove additional occurences of APP1:Exif segment\r\n        additionalAPP1ExifSegments.forEach(function(segmentIndex) {\r\n            segments.splice(segmentIndex, 1);\r\n        });\r\n\r\n        if (!hasExifSegment && exif) {\r\n            segments = [segments[0], exif].concat(segments.slice(1));\r\n        }\r\n\r\n        return segments.join(\"\");\r\n    }\r\n\r\n\r\n    function toHex(str) {\r\n        var hexStr = \"\";\r\n        for (var i = 0; i < str.length; i++) {\r\n            var h = str.charCodeAt(i);\r\n            var hex = ((h < 10) ? \"0\" : \"\") + h.toString(16);\r\n            hexStr += hex + \" \";\r\n        }\r\n        return hexStr;\r\n    }\r\n\r\n\r\n    var TYPES = {\r\n        \"Byte\": 1,\r\n        \"Ascii\": 2,\r\n        \"Short\": 3,\r\n        \"Long\": 4,\r\n        \"Rational\": 5,\r\n        \"Undefined\": 7,\r\n        \"SLong\": 9,\r\n        \"SRational\": 10\r\n    };\r\n\r\n\r\n    var TAGS = {\r\n        'Image': {\r\n            11: {\r\n                'name': 'ProcessingSoftware',\r\n                'type': 'Ascii'\r\n            },\r\n            254: {\r\n                'name': 'NewSubfileType',\r\n                'type': 'Long'\r\n            },\r\n            255: {\r\n                'name': 'SubfileType',\r\n                'type': 'Short'\r\n            },\r\n            256: {\r\n                'name': 'ImageWidth',\r\n                'type': 'Long'\r\n            },\r\n            257: {\r\n                'name': 'ImageLength',\r\n                'type': 'Long'\r\n            },\r\n            258: {\r\n                'name': 'BitsPerSample',\r\n                'type': 'Short'\r\n            },\r\n            259: {\r\n                'name': 'Compression',\r\n                'type': 'Short'\r\n            },\r\n            262: {\r\n                'name': 'PhotometricInterpretation',\r\n                'type': 'Short'\r\n            },\r\n            263: {\r\n                'name': 'Threshholding',\r\n                'type': 'Short'\r\n            },\r\n            264: {\r\n                'name': 'CellWidth',\r\n                'type': 'Short'\r\n            },\r\n            265: {\r\n                'name': 'CellLength',\r\n                'type': 'Short'\r\n            },\r\n            266: {\r\n                'name': 'FillOrder',\r\n                'type': 'Short'\r\n            },\r\n            269: {\r\n                'name': 'DocumentName',\r\n                'type': 'Ascii'\r\n            },\r\n            270: {\r\n                'name': 'ImageDescription',\r\n                'type': 'Ascii'\r\n            },\r\n            271: {\r\n                'name': 'Make',\r\n                'type': 'Ascii'\r\n            },\r\n            272: {\r\n                'name': 'Model',\r\n                'type': 'Ascii'\r\n            },\r\n            273: {\r\n                'name': 'StripOffsets',\r\n                'type': 'Long'\r\n            },\r\n            274: {\r\n                'name': 'Orientation',\r\n                'type': 'Short'\r\n            },\r\n            277: {\r\n                'name': 'SamplesPerPixel',\r\n                'type': 'Short'\r\n            },\r\n            278: {\r\n                'name': 'RowsPerStrip',\r\n                'type': 'Long'\r\n            },\r\n            279: {\r\n                'name': 'StripByteCounts',\r\n                'type': 'Long'\r\n            },\r\n            282: {\r\n                'name': 'XResolution',\r\n                'type': 'Rational'\r\n            },\r\n            283: {\r\n                'name': 'YResolution',\r\n                'type': 'Rational'\r\n            },\r\n            284: {\r\n                'name': 'PlanarConfiguration',\r\n                'type': 'Short'\r\n            },\r\n            290: {\r\n                'name': 'GrayResponseUnit',\r\n                'type': 'Short'\r\n            },\r\n            291: {\r\n                'name': 'GrayResponseCurve',\r\n                'type': 'Short'\r\n            },\r\n            292: {\r\n                'name': 'T4Options',\r\n                'type': 'Long'\r\n            },\r\n            293: {\r\n                'name': 'T6Options',\r\n                'type': 'Long'\r\n            },\r\n            296: {\r\n                'name': 'ResolutionUnit',\r\n                'type': 'Short'\r\n            },\r\n            301: {\r\n                'name': 'TransferFunction',\r\n                'type': 'Short'\r\n            },\r\n            305: {\r\n                'name': 'Software',\r\n                'type': 'Ascii'\r\n            },\r\n            306: {\r\n                'name': 'DateTime',\r\n                'type': 'Ascii'\r\n            },\r\n            315: {\r\n                'name': 'Artist',\r\n                'type': 'Ascii'\r\n            },\r\n            316: {\r\n                'name': 'HostComputer',\r\n                'type': 'Ascii'\r\n            },\r\n            317: {\r\n                'name': 'Predictor',\r\n                'type': 'Short'\r\n            },\r\n            318: {\r\n                'name': 'WhitePoint',\r\n                'type': 'Rational'\r\n            },\r\n            319: {\r\n                'name': 'PrimaryChromaticities',\r\n                'type': 'Rational'\r\n            },\r\n            320: {\r\n                'name': 'ColorMap',\r\n                'type': 'Short'\r\n            },\r\n            321: {\r\n                'name': 'HalftoneHints',\r\n                'type': 'Short'\r\n            },\r\n            322: {\r\n                'name': 'TileWidth',\r\n                'type': 'Short'\r\n            },\r\n            323: {\r\n                'name': 'TileLength',\r\n                'type': 'Short'\r\n            },\r\n            324: {\r\n                'name': 'TileOffsets',\r\n                'type': 'Short'\r\n            },\r\n            325: {\r\n                'name': 'TileByteCounts',\r\n                'type': 'Short'\r\n            },\r\n            330: {\r\n                'name': 'SubIFDs',\r\n                'type': 'Long'\r\n            },\r\n            332: {\r\n                'name': 'InkSet',\r\n                'type': 'Short'\r\n            },\r\n            333: {\r\n                'name': 'InkNames',\r\n                'type': 'Ascii'\r\n            },\r\n            334: {\r\n                'name': 'NumberOfInks',\r\n                'type': 'Short'\r\n            },\r\n            336: {\r\n                'name': 'DotRange',\r\n                'type': 'Byte'\r\n            },\r\n            337: {\r\n                'name': 'TargetPrinter',\r\n                'type': 'Ascii'\r\n            },\r\n            338: {\r\n                'name': 'ExtraSamples',\r\n                'type': 'Short'\r\n            },\r\n            339: {\r\n                'name': 'SampleFormat',\r\n                'type': 'Short'\r\n            },\r\n            340: {\r\n                'name': 'SMinSampleValue',\r\n                'type': 'Short'\r\n            },\r\n            341: {\r\n                'name': 'SMaxSampleValue',\r\n                'type': 'Short'\r\n            },\r\n            342: {\r\n                'name': 'TransferRange',\r\n                'type': 'Short'\r\n            },\r\n            343: {\r\n                'name': 'ClipPath',\r\n                'type': 'Byte'\r\n            },\r\n            344: {\r\n                'name': 'XClipPathUnits',\r\n                'type': 'Long'\r\n            },\r\n            345: {\r\n                'name': 'YClipPathUnits',\r\n                'type': 'Long'\r\n            },\r\n            346: {\r\n                'name': 'Indexed',\r\n                'type': 'Short'\r\n            },\r\n            347: {\r\n                'name': 'JPEGTables',\r\n                'type': 'Undefined'\r\n            },\r\n            351: {\r\n                'name': 'OPIProxy',\r\n                'type': 'Short'\r\n            },\r\n            512: {\r\n                'name': 'JPEGProc',\r\n                'type': 'Long'\r\n            },\r\n            513: {\r\n                'name': 'JPEGInterchangeFormat',\r\n                'type': 'Long'\r\n            },\r\n            514: {\r\n                'name': 'JPEGInterchangeFormatLength',\r\n                'type': 'Long'\r\n            },\r\n            515: {\r\n                'name': 'JPEGRestartInterval',\r\n                'type': 'Short'\r\n            },\r\n            517: {\r\n                'name': 'JPEGLosslessPredictors',\r\n                'type': 'Short'\r\n            },\r\n            518: {\r\n                'name': 'JPEGPointTransforms',\r\n                'type': 'Short'\r\n            },\r\n            519: {\r\n                'name': 'JPEGQTables',\r\n                'type': 'Long'\r\n            },\r\n            520: {\r\n                'name': 'JPEGDCTables',\r\n                'type': 'Long'\r\n            },\r\n            521: {\r\n                'name': 'JPEGACTables',\r\n                'type': 'Long'\r\n            },\r\n            529: {\r\n                'name': 'YCbCrCoefficients',\r\n                'type': 'Rational'\r\n            },\r\n            530: {\r\n                'name': 'YCbCrSubSampling',\r\n                'type': 'Short'\r\n            },\r\n            531: {\r\n                'name': 'YCbCrPositioning',\r\n                'type': 'Short'\r\n            },\r\n            532: {\r\n                'name': 'ReferenceBlackWhite',\r\n                'type': 'Rational'\r\n            },\r\n            700: {\r\n                'name': 'XMLPacket',\r\n                'type': 'Byte'\r\n            },\r\n            18246: {\r\n                'name': 'Rating',\r\n                'type': 'Short'\r\n            },\r\n            18249: {\r\n                'name': 'RatingPercent',\r\n                'type': 'Short'\r\n            },\r\n            32781: {\r\n                'name': 'ImageID',\r\n                'type': 'Ascii'\r\n            },\r\n            33421: {\r\n                'name': 'CFARepeatPatternDim',\r\n                'type': 'Short'\r\n            },\r\n            33422: {\r\n                'name': 'CFAPattern',\r\n                'type': 'Byte'\r\n            },\r\n            33423: {\r\n                'name': 'BatteryLevel',\r\n                'type': 'Rational'\r\n            },\r\n            33432: {\r\n                'name': 'Copyright',\r\n                'type': 'Ascii'\r\n            },\r\n            33434: {\r\n                'name': 'ExposureTime',\r\n                'type': 'Rational'\r\n            },\r\n            34377: {\r\n                'name': 'ImageResources',\r\n                'type': 'Byte'\r\n            },\r\n            34665: {\r\n                'name': 'ExifTag',\r\n                'type': 'Long'\r\n            },\r\n            34675: {\r\n                'name': 'InterColorProfile',\r\n                'type': 'Undefined'\r\n            },\r\n            34853: {\r\n                'name': 'GPSTag',\r\n                'type': 'Long'\r\n            },\r\n            34857: {\r\n                'name': 'Interlace',\r\n                'type': 'Short'\r\n            },\r\n            34858: {\r\n                'name': 'TimeZoneOffset',\r\n                'type': 'Long'\r\n            },\r\n            34859: {\r\n                'name': 'SelfTimerMode',\r\n                'type': 'Short'\r\n            },\r\n            37387: {\r\n                'name': 'FlashEnergy',\r\n                'type': 'Rational'\r\n            },\r\n            37388: {\r\n                'name': 'SpatialFrequencyResponse',\r\n                'type': 'Undefined'\r\n            },\r\n            37389: {\r\n                'name': 'Noise',\r\n                'type': 'Undefined'\r\n            },\r\n            37390: {\r\n                'name': 'FocalPlaneXResolution',\r\n                'type': 'Rational'\r\n            },\r\n            37391: {\r\n                'name': 'FocalPlaneYResolution',\r\n                'type': 'Rational'\r\n            },\r\n            37392: {\r\n                'name': 'FocalPlaneResolutionUnit',\r\n                'type': 'Short'\r\n            },\r\n            37393: {\r\n                'name': 'ImageNumber',\r\n                'type': 'Long'\r\n            },\r\n            37394: {\r\n                'name': 'SecurityClassification',\r\n                'type': 'Ascii'\r\n            },\r\n            37395: {\r\n                'name': 'ImageHistory',\r\n                'type': 'Ascii'\r\n            },\r\n            37397: {\r\n                'name': 'ExposureIndex',\r\n                'type': 'Rational'\r\n            },\r\n            37398: {\r\n                'name': 'TIFFEPStandardID',\r\n                'type': 'Byte'\r\n            },\r\n            37399: {\r\n                'name': 'SensingMethod',\r\n                'type': 'Short'\r\n            },\r\n            40091: {\r\n                'name': 'XPTitle',\r\n                'type': 'Byte'\r\n            },\r\n            40092: {\r\n                'name': 'XPComment',\r\n                'type': 'Byte'\r\n            },\r\n            40093: {\r\n                'name': 'XPAuthor',\r\n                'type': 'Byte'\r\n            },\r\n            40094: {\r\n                'name': 'XPKeywords',\r\n                'type': 'Byte'\r\n            },\r\n            40095: {\r\n                'name': 'XPSubject',\r\n                'type': 'Byte'\r\n            },\r\n            50341: {\r\n                'name': 'PrintImageMatching',\r\n                'type': 'Undefined'\r\n            },\r\n            50706: {\r\n                'name': 'DNGVersion',\r\n                'type': 'Byte'\r\n            },\r\n            50707: {\r\n                'name': 'DNGBackwardVersion',\r\n                'type': 'Byte'\r\n            },\r\n            50708: {\r\n                'name': 'UniqueCameraModel',\r\n                'type': 'Ascii'\r\n            },\r\n            50709: {\r\n                'name': 'LocalizedCameraModel',\r\n                'type': 'Byte'\r\n            },\r\n            50710: {\r\n                'name': 'CFAPlaneColor',\r\n                'type': 'Byte'\r\n            },\r\n            50711: {\r\n                'name': 'CFALayout',\r\n                'type': 'Short'\r\n            },\r\n            50712: {\r\n                'name': 'LinearizationTable',\r\n                'type': 'Short'\r\n            },\r\n            50713: {\r\n                'name': 'BlackLevelRepeatDim',\r\n                'type': 'Short'\r\n            },\r\n            50714: {\r\n                'name': 'BlackLevel',\r\n                'type': 'Rational'\r\n            },\r\n            50715: {\r\n                'name': 'BlackLevelDeltaH',\r\n                'type': 'SRational'\r\n            },\r\n            50716: {\r\n                'name': 'BlackLevelDeltaV',\r\n                'type': 'SRational'\r\n            },\r\n            50717: {\r\n                'name': 'WhiteLevel',\r\n                'type': 'Short'\r\n            },\r\n            50718: {\r\n                'name': 'DefaultScale',\r\n                'type': 'Rational'\r\n            },\r\n            50719: {\r\n                'name': 'DefaultCropOrigin',\r\n                'type': 'Short'\r\n            },\r\n            50720: {\r\n                'name': 'DefaultCropSize',\r\n                'type': 'Short'\r\n            },\r\n            50721: {\r\n                'name': 'ColorMatrix1',\r\n                'type': 'SRational'\r\n            },\r\n            50722: {\r\n                'name': 'ColorMatrix2',\r\n                'type': 'SRational'\r\n            },\r\n            50723: {\r\n                'name': 'CameraCalibration1',\r\n                'type': 'SRational'\r\n            },\r\n            50724: {\r\n                'name': 'CameraCalibration2',\r\n                'type': 'SRational'\r\n            },\r\n            50725: {\r\n                'name': 'ReductionMatrix1',\r\n                'type': 'SRational'\r\n            },\r\n            50726: {\r\n                'name': 'ReductionMatrix2',\r\n                'type': 'SRational'\r\n            },\r\n            50727: {\r\n                'name': 'AnalogBalance',\r\n                'type': 'Rational'\r\n            },\r\n            50728: {\r\n                'name': 'AsShotNeutral',\r\n                'type': 'Short'\r\n            },\r\n            50729: {\r\n                'name': 'AsShotWhiteXY',\r\n                'type': 'Rational'\r\n            },\r\n            50730: {\r\n                'name': 'BaselineExposure',\r\n                'type': 'SRational'\r\n            },\r\n            50731: {\r\n                'name': 'BaselineNoise',\r\n                'type': 'Rational'\r\n            },\r\n            50732: {\r\n                'name': 'BaselineSharpness',\r\n                'type': 'Rational'\r\n            },\r\n            50733: {\r\n                'name': 'BayerGreenSplit',\r\n                'type': 'Long'\r\n            },\r\n            50734: {\r\n                'name': 'LinearResponseLimit',\r\n                'type': 'Rational'\r\n            },\r\n            50735: {\r\n                'name': 'CameraSerialNumber',\r\n                'type': 'Ascii'\r\n            },\r\n            50736: {\r\n                'name': 'LensInfo',\r\n                'type': 'Rational'\r\n            },\r\n            50737: {\r\n                'name': 'ChromaBlurRadius',\r\n                'type': 'Rational'\r\n            },\r\n            50738: {\r\n                'name': 'AntiAliasStrength',\r\n                'type': 'Rational'\r\n            },\r\n            50739: {\r\n                'name': 'ShadowScale',\r\n                'type': 'SRational'\r\n            },\r\n            50740: {\r\n                'name': 'DNGPrivateData',\r\n                'type': 'Byte'\r\n            },\r\n            50741: {\r\n                'name': 'MakerNoteSafety',\r\n                'type': 'Short'\r\n            },\r\n            50778: {\r\n                'name': 'CalibrationIlluminant1',\r\n                'type': 'Short'\r\n            },\r\n            50779: {\r\n                'name': 'CalibrationIlluminant2',\r\n                'type': 'Short'\r\n            },\r\n            50780: {\r\n                'name': 'BestQualityScale',\r\n                'type': 'Rational'\r\n            },\r\n            50781: {\r\n                'name': 'RawDataUniqueID',\r\n                'type': 'Byte'\r\n            },\r\n            50827: {\r\n                'name': 'OriginalRawFileName',\r\n                'type': 'Byte'\r\n            },\r\n            50828: {\r\n                'name': 'OriginalRawFileData',\r\n                'type': 'Undefined'\r\n            },\r\n            50829: {\r\n                'name': 'ActiveArea',\r\n                'type': 'Short'\r\n            },\r\n            50830: {\r\n                'name': 'MaskedAreas',\r\n                'type': 'Short'\r\n            },\r\n            50831: {\r\n                'name': 'AsShotICCProfile',\r\n                'type': 'Undefined'\r\n            },\r\n            50832: {\r\n                'name': 'AsShotPreProfileMatrix',\r\n                'type': 'SRational'\r\n            },\r\n            50833: {\r\n                'name': 'CurrentICCProfile',\r\n                'type': 'Undefined'\r\n            },\r\n            50834: {\r\n                'name': 'CurrentPreProfileMatrix',\r\n                'type': 'SRational'\r\n            },\r\n            50879: {\r\n                'name': 'ColorimetricReference',\r\n                'type': 'Short'\r\n            },\r\n            50931: {\r\n                'name': 'CameraCalibrationSignature',\r\n                'type': 'Byte'\r\n            },\r\n            50932: {\r\n                'name': 'ProfileCalibrationSignature',\r\n                'type': 'Byte'\r\n            },\r\n            50934: {\r\n                'name': 'AsShotProfileName',\r\n                'type': 'Byte'\r\n            },\r\n            50935: {\r\n                'name': 'NoiseReductionApplied',\r\n                'type': 'Rational'\r\n            },\r\n            50936: {\r\n                'name': 'ProfileName',\r\n                'type': 'Byte'\r\n            },\r\n            50937: {\r\n                'name': 'ProfileHueSatMapDims',\r\n                'type': 'Long'\r\n            },\r\n            50938: {\r\n                'name': 'ProfileHueSatMapData1',\r\n                'type': 'Float'\r\n            },\r\n            50939: {\r\n                'name': 'ProfileHueSatMapData2',\r\n                'type': 'Float'\r\n            },\r\n            50940: {\r\n                'name': 'ProfileToneCurve',\r\n                'type': 'Float'\r\n            },\r\n            50941: {\r\n                'name': 'ProfileEmbedPolicy',\r\n                'type': 'Long'\r\n            },\r\n            50942: {\r\n                'name': 'ProfileCopyright',\r\n                'type': 'Byte'\r\n            },\r\n            50964: {\r\n                'name': 'ForwardMatrix1',\r\n                'type': 'SRational'\r\n            },\r\n            50965: {\r\n                'name': 'ForwardMatrix2',\r\n                'type': 'SRational'\r\n            },\r\n            50966: {\r\n                'name': 'PreviewApplicationName',\r\n                'type': 'Byte'\r\n            },\r\n            50967: {\r\n                'name': 'PreviewApplicationVersion',\r\n                'type': 'Byte'\r\n            },\r\n            50968: {\r\n                'name': 'PreviewSettingsName',\r\n                'type': 'Byte'\r\n            },\r\n            50969: {\r\n                'name': 'PreviewSettingsDigest',\r\n                'type': 'Byte'\r\n            },\r\n            50970: {\r\n                'name': 'PreviewColorSpace',\r\n                'type': 'Long'\r\n            },\r\n            50971: {\r\n                'name': 'PreviewDateTime',\r\n                'type': 'Ascii'\r\n            },\r\n            50972: {\r\n                'name': 'RawImageDigest',\r\n                'type': 'Undefined'\r\n            },\r\n            50973: {\r\n                'name': 'OriginalRawFileDigest',\r\n                'type': 'Undefined'\r\n            },\r\n            50974: {\r\n                'name': 'SubTileBlockSize',\r\n                'type': 'Long'\r\n            },\r\n            50975: {\r\n                'name': 'RowInterleaveFactor',\r\n                'type': 'Long'\r\n            },\r\n            50981: {\r\n                'name': 'ProfileLookTableDims',\r\n                'type': 'Long'\r\n            },\r\n            50982: {\r\n                'name': 'ProfileLookTableData',\r\n                'type': 'Float'\r\n            },\r\n            51008: {\r\n                'name': 'OpcodeList1',\r\n                'type': 'Undefined'\r\n            },\r\n            51009: {\r\n                'name': 'OpcodeList2',\r\n                'type': 'Undefined'\r\n            },\r\n            51022: {\r\n                'name': 'OpcodeList3',\r\n                'type': 'Undefined'\r\n            }\r\n        },\r\n        'Exif': {\r\n            33434: {\r\n                'name': 'ExposureTime',\r\n                'type': 'Rational'\r\n            },\r\n            33437: {\r\n                'name': 'FNumber',\r\n                'type': 'Rational'\r\n            },\r\n            34850: {\r\n                'name': 'ExposureProgram',\r\n                'type': 'Short'\r\n            },\r\n            34852: {\r\n                'name': 'SpectralSensitivity',\r\n                'type': 'Ascii'\r\n            },\r\n            34855: {\r\n                'name': 'ISOSpeedRatings',\r\n                'type': 'Short'\r\n            },\r\n            34856: {\r\n                'name': 'OECF',\r\n                'type': 'Undefined'\r\n            },\r\n            34864: {\r\n                'name': 'SensitivityType',\r\n                'type': 'Short'\r\n            },\r\n            34865: {\r\n                'name': 'StandardOutputSensitivity',\r\n                'type': 'Long'\r\n            },\r\n            34866: {\r\n                'name': 'RecommendedExposureIndex',\r\n                'type': 'Long'\r\n            },\r\n            34867: {\r\n                'name': 'ISOSpeed',\r\n                'type': 'Long'\r\n            },\r\n            34868: {\r\n                'name': 'ISOSpeedLatitudeyyy',\r\n                'type': 'Long'\r\n            },\r\n            34869: {\r\n                'name': 'ISOSpeedLatitudezzz',\r\n                'type': 'Long'\r\n            },\r\n            36864: {\r\n                'name': 'ExifVersion',\r\n                'type': 'Undefined'\r\n            },\r\n            36867: {\r\n                'name': 'DateTimeOriginal',\r\n                'type': 'Ascii'\r\n            },\r\n            36868: {\r\n                'name': 'DateTimeDigitized',\r\n                'type': 'Ascii'\r\n            },\r\n            37121: {\r\n                'name': 'ComponentsConfiguration',\r\n                'type': 'Undefined'\r\n            },\r\n            37122: {\r\n                'name': 'CompressedBitsPerPixel',\r\n                'type': 'Rational'\r\n            },\r\n            37377: {\r\n                'name': 'ShutterSpeedValue',\r\n                'type': 'SRational'\r\n            },\r\n            37378: {\r\n                'name': 'ApertureValue',\r\n                'type': 'Rational'\r\n            },\r\n            37379: {\r\n                'name': 'BrightnessValue',\r\n                'type': 'SRational'\r\n            },\r\n            37380: {\r\n                'name': 'ExposureBiasValue',\r\n                'type': 'SRational'\r\n            },\r\n            37381: {\r\n                'name': 'MaxApertureValue',\r\n                'type': 'Rational'\r\n            },\r\n            37382: {\r\n                'name': 'SubjectDistance',\r\n                'type': 'Rational'\r\n            },\r\n            37383: {\r\n                'name': 'MeteringMode',\r\n                'type': 'Short'\r\n            },\r\n            37384: {\r\n                'name': 'LightSource',\r\n                'type': 'Short'\r\n            },\r\n            37385: {\r\n                'name': 'Flash',\r\n                'type': 'Short'\r\n            },\r\n            37386: {\r\n                'name': 'FocalLength',\r\n                'type': 'Rational'\r\n            },\r\n            37396: {\r\n                'name': 'SubjectArea',\r\n                'type': 'Short'\r\n            },\r\n            37500: {\r\n                'name': 'MakerNote',\r\n                'type': 'Undefined'\r\n            },\r\n            37510: {\r\n                'name': 'UserComment',\r\n                'type': 'Ascii'\r\n            },\r\n            37520: {\r\n                'name': 'SubSecTime',\r\n                'type': 'Ascii'\r\n            },\r\n            37521: {\r\n                'name': 'SubSecTimeOriginal',\r\n                'type': 'Ascii'\r\n            },\r\n            37522: {\r\n                'name': 'SubSecTimeDigitized',\r\n                'type': 'Ascii'\r\n            },\r\n            40960: {\r\n                'name': 'FlashpixVersion',\r\n                'type': 'Undefined'\r\n            },\r\n            40961: {\r\n                'name': 'ColorSpace',\r\n                'type': 'Short'\r\n            },\r\n            40962: {\r\n                'name': 'PixelXDimension',\r\n                'type': 'Long'\r\n            },\r\n            40963: {\r\n                'name': 'PixelYDimension',\r\n                'type': 'Long'\r\n            },\r\n            40964: {\r\n                'name': 'RelatedSoundFile',\r\n                'type': 'Ascii'\r\n            },\r\n            40965: {\r\n                'name': 'InteroperabilityTag',\r\n                'type': 'Long'\r\n            },\r\n            41483: {\r\n                'name': 'FlashEnergy',\r\n                'type': 'Rational'\r\n            },\r\n            41484: {\r\n                'name': 'SpatialFrequencyResponse',\r\n                'type': 'Undefined'\r\n            },\r\n            41486: {\r\n                'name': 'FocalPlaneXResolution',\r\n                'type': 'Rational'\r\n            },\r\n            41487: {\r\n                'name': 'FocalPlaneYResolution',\r\n                'type': 'Rational'\r\n            },\r\n            41488: {\r\n                'name': 'FocalPlaneResolutionUnit',\r\n                'type': 'Short'\r\n            },\r\n            41492: {\r\n                'name': 'SubjectLocation',\r\n                'type': 'Short'\r\n            },\r\n            41493: {\r\n                'name': 'ExposureIndex',\r\n                'type': 'Rational'\r\n            },\r\n            41495: {\r\n                'name': 'SensingMethod',\r\n                'type': 'Short'\r\n            },\r\n            41728: {\r\n                'name': 'FileSource',\r\n                'type': 'Undefined'\r\n            },\r\n            41729: {\r\n                'name': 'SceneType',\r\n                'type': 'Undefined'\r\n            },\r\n            41730: {\r\n                'name': 'CFAPattern',\r\n                'type': 'Undefined'\r\n            },\r\n            41985: {\r\n                'name': 'CustomRendered',\r\n                'type': 'Short'\r\n            },\r\n            41986: {\r\n                'name': 'ExposureMode',\r\n                'type': 'Short'\r\n            },\r\n            41987: {\r\n                'name': 'WhiteBalance',\r\n                'type': 'Short'\r\n            },\r\n            41988: {\r\n                'name': 'DigitalZoomRatio',\r\n                'type': 'Rational'\r\n            },\r\n            41989: {\r\n                'name': 'FocalLengthIn35mmFilm',\r\n                'type': 'Short'\r\n            },\r\n            41990: {\r\n                'name': 'SceneCaptureType',\r\n                'type': 'Short'\r\n            },\r\n            41991: {\r\n                'name': 'GainControl',\r\n                'type': 'Short'\r\n            },\r\n            41992: {\r\n                'name': 'Contrast',\r\n                'type': 'Short'\r\n            },\r\n            41993: {\r\n                'name': 'Saturation',\r\n                'type': 'Short'\r\n            },\r\n            41994: {\r\n                'name': 'Sharpness',\r\n                'type': 'Short'\r\n            },\r\n            41995: {\r\n                'name': 'DeviceSettingDescription',\r\n                'type': 'Undefined'\r\n            },\r\n            41996: {\r\n                'name': 'SubjectDistanceRange',\r\n                'type': 'Short'\r\n            },\r\n            42016: {\r\n                'name': 'ImageUniqueID',\r\n                'type': 'Ascii'\r\n            },\r\n            42032: {\r\n                'name': 'CameraOwnerName',\r\n                'type': 'Ascii'\r\n            },\r\n            42033: {\r\n                'name': 'BodySerialNumber',\r\n                'type': 'Ascii'\r\n            },\r\n            42034: {\r\n                'name': 'LensSpecification',\r\n                'type': 'Rational'\r\n            },\r\n            42035: {\r\n                'name': 'LensMake',\r\n                'type': 'Ascii'\r\n            },\r\n            42036: {\r\n                'name': 'LensModel',\r\n                'type': 'Ascii'\r\n            },\r\n            42037: {\r\n                'name': 'LensSerialNumber',\r\n                'type': 'Ascii'\r\n            },\r\n            42240: {\r\n                'name': 'Gamma',\r\n                'type': 'Rational'\r\n            }\r\n        },\r\n        'GPS': {\r\n            0: {\r\n                'name': 'GPSVersionID',\r\n                'type': 'Byte'\r\n            },\r\n            1: {\r\n                'name': 'GPSLatitudeRef',\r\n                'type': 'Ascii'\r\n            },\r\n            2: {\r\n                'name': 'GPSLatitude',\r\n                'type': 'Rational'\r\n            },\r\n            3: {\r\n                'name': 'GPSLongitudeRef',\r\n                'type': 'Ascii'\r\n            },\r\n            4: {\r\n                'name': 'GPSLongitude',\r\n                'type': 'Rational'\r\n            },\r\n            5: {\r\n                'name': 'GPSAltitudeRef',\r\n                'type': 'Byte'\r\n            },\r\n            6: {\r\n                'name': 'GPSAltitude',\r\n                'type': 'Rational'\r\n            },\r\n            7: {\r\n                'name': 'GPSTimeStamp',\r\n                'type': 'Rational'\r\n            },\r\n            8: {\r\n                'name': 'GPSSatellites',\r\n                'type': 'Ascii'\r\n            },\r\n            9: {\r\n                'name': 'GPSStatus',\r\n                'type': 'Ascii'\r\n            },\r\n            10: {\r\n                'name': 'GPSMeasureMode',\r\n                'type': 'Ascii'\r\n            },\r\n            11: {\r\n                'name': 'GPSDOP',\r\n                'type': 'Rational'\r\n            },\r\n            12: {\r\n                'name': 'GPSSpeedRef',\r\n                'type': 'Ascii'\r\n            },\r\n            13: {\r\n                'name': 'GPSSpeed',\r\n                'type': 'Rational'\r\n            },\r\n            14: {\r\n                'name': 'GPSTrackRef',\r\n                'type': 'Ascii'\r\n            },\r\n            15: {\r\n                'name': 'GPSTrack',\r\n                'type': 'Rational'\r\n            },\r\n            16: {\r\n                'name': 'GPSImgDirectionRef',\r\n                'type': 'Ascii'\r\n            },\r\n            17: {\r\n                'name': 'GPSImgDirection',\r\n                'type': 'Rational'\r\n            },\r\n            18: {\r\n                'name': 'GPSMapDatum',\r\n                'type': 'Ascii'\r\n            },\r\n            19: {\r\n                'name': 'GPSDestLatitudeRef',\r\n                'type': 'Ascii'\r\n            },\r\n            20: {\r\n                'name': 'GPSDestLatitude',\r\n                'type': 'Rational'\r\n            },\r\n            21: {\r\n                'name': 'GPSDestLongitudeRef',\r\n                'type': 'Ascii'\r\n            },\r\n            22: {\r\n                'name': 'GPSDestLongitude',\r\n                'type': 'Rational'\r\n            },\r\n            23: {\r\n                'name': 'GPSDestBearingRef',\r\n                'type': 'Ascii'\r\n            },\r\n            24: {\r\n                'name': 'GPSDestBearing',\r\n                'type': 'Rational'\r\n            },\r\n            25: {\r\n                'name': 'GPSDestDistanceRef',\r\n                'type': 'Ascii'\r\n            },\r\n            26: {\r\n                'name': 'GPSDestDistance',\r\n                'type': 'Rational'\r\n            },\r\n            27: {\r\n                'name': 'GPSProcessingMethod',\r\n                'type': 'Undefined'\r\n            },\r\n            28: {\r\n                'name': 'GPSAreaInformation',\r\n                'type': 'Undefined'\r\n            },\r\n            29: {\r\n                'name': 'GPSDateStamp',\r\n                'type': 'Ascii'\r\n            },\r\n            30: {\r\n                'name': 'GPSDifferential',\r\n                'type': 'Short'\r\n            },\r\n            31: {\r\n                'name': 'GPSHPositioningError',\r\n                'type': 'Rational'\r\n            }\r\n        },\r\n        'Interop': {\r\n            1: {\r\n                'name': 'InteroperabilityIndex',\r\n                'type': 'Ascii'\r\n            }\r\n        },\r\n    };\r\n    TAGS[\"0th\"] = TAGS[\"Image\"];\r\n    TAGS[\"1st\"] = TAGS[\"Image\"];\r\n    that.TAGS = TAGS;\r\n\r\n    \r\n    that.ImageIFD = {\r\n        ProcessingSoftware:11,\r\n        NewSubfileType:254,\r\n        SubfileType:255,\r\n        ImageWidth:256,\r\n        ImageLength:257,\r\n        BitsPerSample:258,\r\n        Compression:259,\r\n        PhotometricInterpretation:262,\r\n        Threshholding:263,\r\n        CellWidth:264,\r\n        CellLength:265,\r\n        FillOrder:266,\r\n        DocumentName:269,\r\n        ImageDescription:270,\r\n        Make:271,\r\n        Model:272,\r\n        StripOffsets:273,\r\n        Orientation:274,\r\n        SamplesPerPixel:277,\r\n        RowsPerStrip:278,\r\n        StripByteCounts:279,\r\n        XResolution:282,\r\n        YResolution:283,\r\n        PlanarConfiguration:284,\r\n        GrayResponseUnit:290,\r\n        GrayResponseCurve:291,\r\n        T4Options:292,\r\n        T6Options:293,\r\n        ResolutionUnit:296,\r\n        TransferFunction:301,\r\n        Software:305,\r\n        DateTime:306,\r\n        Artist:315,\r\n        HostComputer:316,\r\n        Predictor:317,\r\n        WhitePoint:318,\r\n        PrimaryChromaticities:319,\r\n        ColorMap:320,\r\n        HalftoneHints:321,\r\n        TileWidth:322,\r\n        TileLength:323,\r\n        TileOffsets:324,\r\n        TileByteCounts:325,\r\n        SubIFDs:330,\r\n        InkSet:332,\r\n        InkNames:333,\r\n        NumberOfInks:334,\r\n        DotRange:336,\r\n        TargetPrinter:337,\r\n        ExtraSamples:338,\r\n        SampleFormat:339,\r\n        SMinSampleValue:340,\r\n        SMaxSampleValue:341,\r\n        TransferRange:342,\r\n        ClipPath:343,\r\n        XClipPathUnits:344,\r\n        YClipPathUnits:345,\r\n        Indexed:346,\r\n        JPEGTables:347,\r\n        OPIProxy:351,\r\n        JPEGProc:512,\r\n        JPEGInterchangeFormat:513,\r\n        JPEGInterchangeFormatLength:514,\r\n        JPEGRestartInterval:515,\r\n        JPEGLosslessPredictors:517,\r\n        JPEGPointTransforms:518,\r\n        JPEGQTables:519,\r\n        JPEGDCTables:520,\r\n        JPEGACTables:521,\r\n        YCbCrCoefficients:529,\r\n        YCbCrSubSampling:530,\r\n        YCbCrPositioning:531,\r\n        ReferenceBlackWhite:532,\r\n        XMLPacket:700,\r\n        Rating:18246,\r\n        RatingPercent:18249,\r\n        ImageID:32781,\r\n        CFARepeatPatternDim:33421,\r\n        CFAPattern:33422,\r\n        BatteryLevel:33423,\r\n        Copyright:33432,\r\n        ExposureTime:33434,\r\n        ImageResources:34377,\r\n        ExifTag:34665,\r\n        InterColorProfile:34675,\r\n        GPSTag:34853,\r\n        Interlace:34857,\r\n        TimeZoneOffset:34858,\r\n        SelfTimerMode:34859,\r\n        FlashEnergy:37387,\r\n        SpatialFrequencyResponse:37388,\r\n        Noise:37389,\r\n        FocalPlaneXResolution:37390,\r\n        FocalPlaneYResolution:37391,\r\n        FocalPlaneResolutionUnit:37392,\r\n        ImageNumber:37393,\r\n        SecurityClassification:37394,\r\n        ImageHistory:37395,\r\n        ExposureIndex:37397,\r\n        TIFFEPStandardID:37398,\r\n        SensingMethod:37399,\r\n        XPTitle:40091,\r\n        XPComment:40092,\r\n        XPAuthor:40093,\r\n        XPKeywords:40094,\r\n        XPSubject:40095,\r\n        PrintImageMatching:50341,\r\n        DNGVersion:50706,\r\n        DNGBackwardVersion:50707,\r\n        UniqueCameraModel:50708,\r\n        LocalizedCameraModel:50709,\r\n        CFAPlaneColor:50710,\r\n        CFALayout:50711,\r\n        LinearizationTable:50712,\r\n        BlackLevelRepeatDim:50713,\r\n        BlackLevel:50714,\r\n        BlackLevelDeltaH:50715,\r\n        BlackLevelDeltaV:50716,\r\n        WhiteLevel:50717,\r\n        DefaultScale:50718,\r\n        DefaultCropOrigin:50719,\r\n        DefaultCropSize:50720,\r\n        ColorMatrix1:50721,\r\n        ColorMatrix2:50722,\r\n        CameraCalibration1:50723,\r\n        CameraCalibration2:50724,\r\n        ReductionMatrix1:50725,\r\n        ReductionMatrix2:50726,\r\n        AnalogBalance:50727,\r\n        AsShotNeutral:50728,\r\n        AsShotWhiteXY:50729,\r\n        BaselineExposure:50730,\r\n        BaselineNoise:50731,\r\n        BaselineSharpness:50732,\r\n        BayerGreenSplit:50733,\r\n        LinearResponseLimit:50734,\r\n        CameraSerialNumber:50735,\r\n        LensInfo:50736,\r\n        ChromaBlurRadius:50737,\r\n        AntiAliasStrength:50738,\r\n        ShadowScale:50739,\r\n        DNGPrivateData:50740,\r\n        MakerNoteSafety:50741,\r\n        CalibrationIlluminant1:50778,\r\n        CalibrationIlluminant2:50779,\r\n        BestQualityScale:50780,\r\n        RawDataUniqueID:50781,\r\n        OriginalRawFileName:50827,\r\n        OriginalRawFileData:50828,\r\n        ActiveArea:50829,\r\n        MaskedAreas:50830,\r\n        AsShotICCProfile:50831,\r\n        AsShotPreProfileMatrix:50832,\r\n        CurrentICCProfile:50833,\r\n        CurrentPreProfileMatrix:50834,\r\n        ColorimetricReference:50879,\r\n        CameraCalibrationSignature:50931,\r\n        ProfileCalibrationSignature:50932,\r\n        AsShotProfileName:50934,\r\n        NoiseReductionApplied:50935,\r\n        ProfileName:50936,\r\n        ProfileHueSatMapDims:50937,\r\n        ProfileHueSatMapData1:50938,\r\n        ProfileHueSatMapData2:50939,\r\n        ProfileToneCurve:50940,\r\n        ProfileEmbedPolicy:50941,\r\n        ProfileCopyright:50942,\r\n        ForwardMatrix1:50964,\r\n        ForwardMatrix2:50965,\r\n        PreviewApplicationName:50966,\r\n        PreviewApplicationVersion:50967,\r\n        PreviewSettingsName:50968,\r\n        PreviewSettingsDigest:50969,\r\n        PreviewColorSpace:50970,\r\n        PreviewDateTime:50971,\r\n        RawImageDigest:50972,\r\n        OriginalRawFileDigest:50973,\r\n        SubTileBlockSize:50974,\r\n        RowInterleaveFactor:50975,\r\n        ProfileLookTableDims:50981,\r\n        ProfileLookTableData:50982,\r\n        OpcodeList1:51008,\r\n        OpcodeList2:51009,\r\n        OpcodeList3:51022,\r\n        NoiseProfile:51041,\r\n    };\r\n\r\n    \r\n    that.ExifIFD = {\r\n        ExposureTime:33434,\r\n        FNumber:33437,\r\n        ExposureProgram:34850,\r\n        SpectralSensitivity:34852,\r\n        ISOSpeedRatings:34855,\r\n        OECF:34856,\r\n        SensitivityType:34864,\r\n        StandardOutputSensitivity:34865,\r\n        RecommendedExposureIndex:34866,\r\n        ISOSpeed:34867,\r\n        ISOSpeedLatitudeyyy:34868,\r\n        ISOSpeedLatitudezzz:34869,\r\n        ExifVersion:36864,\r\n        DateTimeOriginal:36867,\r\n        DateTimeDigitized:36868,\r\n        ComponentsConfiguration:37121,\r\n        CompressedBitsPerPixel:37122,\r\n        ShutterSpeedValue:37377,\r\n        ApertureValue:37378,\r\n        BrightnessValue:37379,\r\n        ExposureBiasValue:37380,\r\n        MaxApertureValue:37381,\r\n        SubjectDistance:37382,\r\n        MeteringMode:37383,\r\n        LightSource:37384,\r\n        Flash:37385,\r\n        FocalLength:37386,\r\n        SubjectArea:37396,\r\n        MakerNote:37500,\r\n        UserComment:37510,\r\n        SubSecTime:37520,\r\n        SubSecTimeOriginal:37521,\r\n        SubSecTimeDigitized:37522,\r\n        FlashpixVersion:40960,\r\n        ColorSpace:40961,\r\n        PixelXDimension:40962,\r\n        PixelYDimension:40963,\r\n        RelatedSoundFile:40964,\r\n        InteroperabilityTag:40965,\r\n        FlashEnergy:41483,\r\n        SpatialFrequencyResponse:41484,\r\n        FocalPlaneXResolution:41486,\r\n        FocalPlaneYResolution:41487,\r\n        FocalPlaneResolutionUnit:41488,\r\n        SubjectLocation:41492,\r\n        ExposureIndex:41493,\r\n        SensingMethod:41495,\r\n        FileSource:41728,\r\n        SceneType:41729,\r\n        CFAPattern:41730,\r\n        CustomRendered:41985,\r\n        ExposureMode:41986,\r\n        WhiteBalance:41987,\r\n        DigitalZoomRatio:41988,\r\n        FocalLengthIn35mmFilm:41989,\r\n        SceneCaptureType:41990,\r\n        GainControl:41991,\r\n        Contrast:41992,\r\n        Saturation:41993,\r\n        Sharpness:41994,\r\n        DeviceSettingDescription:41995,\r\n        SubjectDistanceRange:41996,\r\n        ImageUniqueID:42016,\r\n        CameraOwnerName:42032,\r\n        BodySerialNumber:42033,\r\n        LensSpecification:42034,\r\n        LensMake:42035,\r\n        LensModel:42036,\r\n        LensSerialNumber:42037,\r\n        Gamma:42240,\r\n    };\r\n\r\n\r\n    that.GPSIFD = {\r\n        GPSVersionID:0,\r\n        GPSLatitudeRef:1,\r\n        GPSLatitude:2,\r\n        GPSLongitudeRef:3,\r\n        GPSLongitude:4,\r\n        GPSAltitudeRef:5,\r\n        GPSAltitude:6,\r\n        GPSTimeStamp:7,\r\n        GPSSatellites:8,\r\n        GPSStatus:9,\r\n        GPSMeasureMode:10,\r\n        GPSDOP:11,\r\n        GPSSpeedRef:12,\r\n        GPSSpeed:13,\r\n        GPSTrackRef:14,\r\n        GPSTrack:15,\r\n        GPSImgDirectionRef:16,\r\n        GPSImgDirection:17,\r\n        GPSMapDatum:18,\r\n        GPSDestLatitudeRef:19,\r\n        GPSDestLatitude:20,\r\n        GPSDestLongitudeRef:21,\r\n        GPSDestLongitude:22,\r\n        GPSDestBearingRef:23,\r\n        GPSDestBearing:24,\r\n        GPSDestDistanceRef:25,\r\n        GPSDestDistance:26,\r\n        GPSProcessingMethod:27,\r\n        GPSAreaInformation:28,\r\n        GPSDateStamp:29,\r\n        GPSDifferential:30,\r\n        GPSHPositioningError:31,\r\n    };\r\n\r\n\r\n    that.InteropIFD = {\r\n        InteroperabilityIndex:1,\r\n    };\r\n\r\n    that.GPSHelper = {\r\n        degToDmsRational:function (degFloat) {\r\n            var degAbs = Math.abs(degFloat);\r\n            var minFloat = degAbs % 1 * 60;\r\n            var secFloat = minFloat % 1 * 60;\r\n            var deg = Math.floor(degAbs);\r\n            var min = Math.floor(minFloat);\r\n            var sec = Math.round(secFloat * 100);\r\n\r\n            return [[deg, 1], [min, 1], [sec, 100]];\r\n        },\r\n\r\n        dmsRationalToDeg:function (dmsArray, ref) {\r\n            var sign = (ref === 'S' || ref === 'W') ? -1.0 : 1.0;\r\n            var deg = dmsArray[0][0] / dmsArray[0][1] +\r\n                      dmsArray[1][0] / dmsArray[1][1] / 60.0 +\r\n                      dmsArray[2][0] / dmsArray[2][1] / 3600.0;\r\n\r\n            return deg * sign;\r\n        }\r\n    };\r\n    \r\n    \r\n    if (typeof exports !== 'undefined') {\r\n        if (typeof module !== 'undefined' && module.exports) {\r\n            exports = module.exports = that;\r\n        }\r\n        exports.piexif = that;\r\n    } else {\r\n        window.piexif = that;\r\n    }\r\n\r\n})();\r\n","function main(str) {\n  // eslint-disable-next-line no-undef\n  if (typeof atob === 'function') return atob(str)\n  return Buffer.from(str, 'base64').toString('binary')\n}\n\nmodule.exports = main","const atob = require('../utils/atob')\n\nfunction isDataUrl (data) {\n  return data && data.startsWith && data.startsWith('data:image/')\n}\n\nfunction convertToBuffer(data) {\n  if (!data) return null\n\n  if (typeof data === 'object') {\n    return data\n  } else if (typeof data === 'string') {\n    let base64 = data\n    if (isDataUrl(data)) {\n      base64 = dataUrlToBase64(data)\n    }\n    else if (isBinaryString(data)) {\n      return binaryStringToBuffer(data)\n    }\n    return base64ToBuffer(base64)\n  }\n\n  throw new Error('fail to convert data to buffer')\n}\n\nfunction dataUrlToBase64(dataUrl) {\n  let idx = dataUrl.indexOf('base64')\n  if (idx === -1) {\n    throw new Error('input is not a valid base64 string')\n  }\n  return dataUrl.substr(idx + 7)\n}\n\nfunction base64ToBuffer(base64) {\n  return binaryStringToBuffer(atob(base64))\n}\n\nfunction binaryStringToBuffer (binaryStr) {\n  if (typeof binaryStr !== 'string') throw new Error('input is not a string')\n  // TextEncoder cannot convert binary string\n  // if (typeof TextEncoder === 'function') return (new TextEncoder()).encode(binaryStr)\n  if (typeof Buffer === 'function') return Buffer.from(binaryStr, 'binary')\n  let len = binaryStr.length\n  let bytes = new Uint8Array(len)\n  for (let i = 0; i < len; i++) {\n    bytes[i] = binaryStr.charCodeAt(i)\n  }\n  return bytes\n}\n\nfunction convertToBinaryString(data) {\n  if (typeof data === 'object') {\n    if (data.length >= 0) {\n      // TextDecoder cannot convert binary string\n      // if (typeof TextDecoder === 'function') return (new TextDecoder()).decode(data)\n      return Array.prototype.map.call(data, code => String.fromCharCode(code)).join('')\n    }\n  } else if (typeof data === 'string') {\n    if (isDataUrl(data)) {\n      return atob(dataUrlToBase64(data))\n    }\n    return data\n  }\n\n  throw new Error('fail to convert data to binary string')\n}\n\nfunction isBinaryString (data) {\n  return typeof data === 'string' && /[^\\x20-\\x7E\\t\\r\\n]/.test(data)\n}\n\nmodule.exports = {\n  convertToBuffer,\n  dataUrlToBase64,\n  base64ToBuffer,\n  convertToBinaryString,\n}\n","const WORD_SEPARATOR = '~_'\nconst META_SEPARATOR = '_|'\nconst SIG = 'Mt_'\n\nfunction encodeMetadata (metadata) {\n  return metadata.map(meta => {\n    return `${meta.value}`\n  }).join(\"\")\n}\n\nfunction decodeMetadata (string) {\n  if (!string.startsWith(SIG)) return string\n  return string.slice(SIG.length).split(META_SEPARATOR).map(metaStr => {\n    let [name, value] = metaStr.split(WORD_SEPARATOR)\n    return {name: unescape(name), value: unescape(value)}\n  })\n}\n\nmodule.exports = {\n  encodeMetadata,\n  decodeMetadata,\n}","const { load, TAGS } = require('piexifjs')\n\nconst {\n  convertToBinaryString,\n} = require('../data-converter')\nconst { decodeMetadata } = require('../meta-converter')\n\nfunction metaReader (data) {\n  let binaryStr = convertToBinaryString(data)\n  let ret = load(binaryStr)\n  let results = []\n  for (let key in ret) {\n    let obj = ret[key]\n    let dict\n    if (key === '0th') {\n      dict = TAGS.Image\n    } else if (key === 'Exif') {\n      dict = TAGS.Exif\n    } else {\n      dict = TAGS.GPS\n    }\n    for (let id in obj) {\n      let def = dict[id]\n      let name = (def && def.name) || 'unknown'\n      if (name === 'UserComment') {\n        let decoded = decodeMetadata(obj[id])\n        if (Array.isArray(decoded)) {\n          decoded.forEach(meta => results.push(meta))\n          continue\n        }\n      }\n      results.push({\n        name,\n        value: obj[id],\n      })\n    }\n  }\n  return results\n}\n\nmodule.exports = metaReader","/* crc32.js (C) 2014-2015 SheetJS -- http://sheetjs.com */\n/* vim: set ts=2: */\nvar CRC32;\n(function (factory) {\n\tif(typeof DO_NOT_EXPORT_CRC === 'undefined') {\n\t\tif('object' === typeof exports) {\n\t\t\tfactory(exports);\n\t\t} else if ('function' === typeof define && define.amd) {\n\t\t\tdefine(function () {\n\t\t\t\tvar module = {};\n\t\t\t\tfactory(module);\n\t\t\t\treturn module;\n\t\t\t});\n\t\t} else {\n\t\t  factory(CRC32 = {});\n\t\t}\n\t} else {\n\t\tfactory(CRC32 = {});\n\t}\n}(function(CRC32) {\nCRC32.version = '0.3.0';\n/* see perf/crc32table.js */\nfunction signed_crc_table() {\n\tvar c = 0, table = new Array(256);\n\n\tfor(var n =0; n != 256; ++n){\n\t\tc = n;\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\tc = ((c&1) ? (-306674912 ^ (c >>> 1)) : (c >>> 1));\n\t\ttable[n] = c;\n\t}\n\n\treturn typeof Int32Array !== 'undefined' ? new Int32Array(table) : table;\n}\n\nvar table = signed_crc_table();\n/* charCodeAt is the best approach for binary strings */\nvar use_buffer = typeof Buffer !== 'undefined';\nfunction crc32_bstr(bstr) {\n\tif(bstr.length > 32768) if(use_buffer) return crc32_buf_8(new Buffer(bstr));\n\tvar crc = -1, L = bstr.length - 1;\n\tfor(var i = 0; i < L;) {\n\t\tcrc =  table[(crc ^ bstr.charCodeAt(i++)) & 0xFF] ^ (crc >>> 8);\n\t\tcrc =  table[(crc ^ bstr.charCodeAt(i++)) & 0xFF] ^ (crc >>> 8);\n\t}\n\tif(i === L) crc = (crc >>> 8) ^ table[(crc ^ bstr.charCodeAt(i)) & 0xFF];\n\treturn crc ^ -1;\n}\n\nfunction crc32_buf(buf) {\n\tif(buf.length > 10000) return crc32_buf_8(buf);\n\tfor(var crc = -1, i = 0, L=buf.length-3; i < L;) {\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t}\n\twhile(i < L+3) crc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\treturn crc ^ -1;\n}\n\nfunction crc32_buf_8(buf) {\n\tfor(var crc = -1, i = 0, L=buf.length-7; i < L;) {\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t\tcrc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\t}\n\twhile(i < L+7) crc = (crc >>> 8) ^ table[(crc^buf[i++])&0xFF];\n\treturn crc ^ -1;\n}\n\n/* much much faster to intertwine utf8 and crc */\nfunction crc32_str(str) {\n\tfor(var crc = -1, i = 0, L=str.length, c, d; i < L;) {\n\t\tc = str.charCodeAt(i++);\n\t\tif(c < 0x80) {\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ c) & 0xFF];\n\t\t} else if(c < 0x800) {\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (192|((c>>6)&31))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|(c&63))) & 0xFF];\n\t\t} else if(c >= 0xD800 && c < 0xE000) {\n\t\t\tc = (c&1023)+64; d = str.charCodeAt(i++) & 1023;\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (240|((c>>8)&7))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|((c>>2)&63))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|((d>>6)&15)|(c&3))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|(d&63))) & 0xFF];\n\t\t} else {\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (224|((c>>12)&15))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|((c>>6)&63))) & 0xFF];\n\t\t\tcrc = (crc >>> 8) ^ table[(crc ^ (128|(c&63))) & 0xFF];\n\t\t}\n\t}\n\treturn crc ^ -1;\n}\nCRC32.table = table;\nCRC32.bstr = crc32_bstr;\nCRC32.buf = crc32_buf;\nCRC32.str = crc32_str;\n}));\n","var crc32 = require('crc-32')\n\nmodule.exports = extractChunks\n\n// Used for fast-ish conversion between uint8s and uint32s/int32s.\n// Also required in order to remain agnostic for both Node Buffers and\n// Uint8Arrays.\nvar uint8 = new Uint8Array(4)\nvar int32 = new Int32Array(uint8.buffer)\nvar uint32 = new Uint32Array(uint8.buffer)\n\nfunction extractChunks (data) {\n  if (data[0] !== 0x89) throw new Error('Invalid .png file header')\n  if (data[1] !== 0x50) throw new Error('Invalid .png file header')\n  if (data[2] !== 0x4E) throw new Error('Invalid .png file header')\n  if (data[3] !== 0x47) throw new Error('Invalid .png file header')\n  if (data[4] !== 0x0D) throw new Error('Invalid .png file header: possibly caused by DOS-Unix line ending conversion?')\n  if (data[5] !== 0x0A) throw new Error('Invalid .png file header: possibly caused by DOS-Unix line ending conversion?')\n  if (data[6] !== 0x1A) throw new Error('Invalid .png file header')\n  if (data[7] !== 0x0A) throw new Error('Invalid .png file header: possibly caused by DOS-Unix line ending conversion?')\n\n  var ended = false\n  var chunks = []\n  var idx = 8\n\n  while (idx < data.length) {\n    // Read the length of the current chunk,\n    // which is stored as a Uint32.\n    uint8[3] = data[idx++]\n    uint8[2] = data[idx++]\n    uint8[1] = data[idx++]\n    uint8[0] = data[idx++]\n\n    // Chunk includes name/type for CRC check (see below).\n    var length = uint32[0] + 4\n    var chunk = new Uint8Array(length)\n    chunk[0] = data[idx++]\n    chunk[1] = data[idx++]\n    chunk[2] = data[idx++]\n    chunk[3] = data[idx++]\n\n    // Get the name in ASCII for identification.\n    var name = (\n      String.fromCharCode(chunk[0]) +\n      String.fromCharCode(chunk[1]) +\n      String.fromCharCode(chunk[2]) +\n      String.fromCharCode(chunk[3])\n    )\n\n    // The IHDR header MUST come first.\n    if (!chunks.length && name !== 'IHDR') {\n      throw new Error('IHDR header missing')\n    }\n\n    // The IEND header marks the end of the file,\n    // so on discovering it break out of the loop.\n    if (name === 'IEND') {\n      ended = true\n      chunks.push({\n        name: name,\n        data: new Uint8Array(0)\n      })\n\n      break\n    }\n\n    // Read the contents of the chunk out of the main buffer.\n    for (var i = 4; i < length; i++) {\n      chunk[i] = data[idx++]\n    }\n\n    // Read out the CRC value for comparison.\n    // It's stored as an Int32.\n    uint8[3] = data[idx++]\n    uint8[2] = data[idx++]\n    uint8[1] = data[idx++]\n    uint8[0] = data[idx++]\n\n    var crcActual = int32[0]\n    var crcExpect = crc32.buf(chunk)\n    if (crcExpect !== crcActual) {\n      throw new Error(\n        'CRC values for ' + name + ' header do not match, PNG file is likely corrupted'\n      )\n    }\n\n    // The chunk data is now copied to remove the 4 preceding\n    // bytes used for the chunk name/type.\n    var chunkData = new Uint8Array(chunk.buffer.slice(4))\n\n    chunks.push({\n      name: name,\n      data: chunkData\n    })\n  }\n\n  if (!ended) {\n    throw new Error('.png file ended prematurely: no IEND header was found')\n  }\n\n  return chunks\n}\n","module.exports = encode\n\nfunction encode (keyword, content) {\n  keyword = String(keyword)\n  content = String(content)\n\n  if (!/^[\\x00-\\xFF]+$/.test(keyword) || !/^[\\x00-\\xFF]+$/.test(content)) {\n    throw new Error('Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression')\n  }\n\n  if (keyword.length >= 80) {\n    throw new Error('Keyword \"' + keyword + '\" is longer than the 79-character limit imposed by the PNG specification')\n  }\n\n  var totalSize = keyword.length + content.length + 1\n  var output = new Uint8Array(totalSize)\n  var idx = 0\n  var code\n\n  for (var i = 0; i < keyword.length; i++) {\n    if (!(code = keyword.charCodeAt(i))) {\n      throw new Error('0x00 character is not permitted in tEXt keywords')\n    }\n\n    output[idx++] = code\n  }\n\n  output[idx++] = 0\n\n  for (var j = 0; j < content.length; j++) {\n    if (!(code = content.charCodeAt(j))) {\n      throw new Error('0x00 character is not permitted in tEXt content')\n    }\n\n    output[idx++] = code\n  }\n\n  return {\n    name: 'tEXt',\n    data: output\n  }\n}\n","module.exports = decode\n\nfunction decode (data) {\n  if (data.data && data.name) {\n    data = data.data\n  }\n\n  var naming = true\n  var text = ''\n  var name = ''\n\n  for (var i = 0; i < data.length; i++) {\n    var code = data[i]\n\n    if (naming) {\n      if (code) {\n        name += String.fromCharCode(code)\n      } else {\n        naming = false\n      }\n    } else {\n      if (code) {\n        text += String.fromCharCode(code)\n      } else {\n        throw new Error('Invalid NULL character found. 0x00 character is not permitted in tEXt content')\n      }\n    }\n  }\n\n  return {\n    keyword: name,\n    text: text\n  }\n}\n","exports.encode = require('./encode')\nexports.decode = require('./decode')\n","const extract = require('png-chunks-extract')\nconst text = require('png-chunk-text')\n\nconst {\n  convertToBuffer,\n} = require('../data-converter')\n\nfunction metaReader(data) {\n  let buffer = convertToBuffer(data)\n  let chunks = extract(buffer)\n  return chunks.filter(function (chunk) {\n    return chunk.name === 'tEXt'\n  }).map(function (chunk) {\n    let ret = text.decode(chunk.data)\n    return {\n      name: unescape(ret.keyword),\n      value: unescape(ret.text)\n    }\n  })\n}\n\nmodule.exports = metaReader","const jpeg = require('./meta-reader/jpeg')\nconst png = require('./meta-reader/png')\n\n/**\n * Read Metadata from image data\n * \n * @param {*} data \n * @param {String} mimeType \n */\nfunction readMeta(data, mimeType) {\n  if (!data || !mimeType) {\n    throw new Error('`readMeta` got invalid arguments')\n  }\n\n  switch (mimeType) {\n  case 'image/jpeg':\n    return jpeg(data)\n  case 'image/png':\n    return png(data)\n  default:\n    throw new Error('unsupported mimeType: ', mimeType)\n  }\n}\n\n\nmodule.exports = readMeta\n","function main(str) {\n  // eslint-disable-next-line no-undef\n  if (typeof btoa === 'function') return btoa(str)\n\n  var buffer\n  if (str instanceof Buffer) {\n    buffer = str\n  } else {\n    buffer = Buffer.from(str.toString(), 'binary')\n  }\n\n  return buffer.toString('base64')\n}\n\nmodule.exports = main","const { load, ExifIFD, dump, insert } = require('piexifjs')\n\nconst btoa = require('../../utils/btoa')\nconst {\n  convertToBuffer,\n  convertToBinaryString,\n} = require('../data-converter')\nconst { encodeMetadata } = require('../meta-converter')\n\nfunction metaWriter (data, metaData, outputFormat = 'buffer') {\n  let binaryStr = convertToBinaryString(data)\n  let ret = load(binaryStr)\n  let zeroth = ret['0th'] || {}\n  let GPS = ret.GPS || {}\n  let Exif = Object.assign({}, ret.Exif, {\n    [ExifIFD.UserComment]: encodeMetadata(metaData)\n  })\n  ret = {'0th': zeroth, Exif, GPS}\n  let exifStr = dump(ret)\n  binaryStr = insert(exifStr, binaryStr)\n\n  if (outputFormat === 'binaryString') return binaryStr\n  if (outputFormat === 'base64') return btoa(binaryStr)\n  if (outputFormat === 'dataUrl') return `data:image/jpeg;base64,${btoa(binaryStr)}`\n  if (outputFormat === 'buffer') return convertToBuffer(binaryStr)\n}\n\nmodule.exports = metaWriter","\n/**\n * An Array.prototype.slice.call(arguments) alternative\n *\n * @param {Object} args something with a length\n * @param {Number} slice\n * @param {Number} sliceEnd\n * @api public\n */\n\nmodule.exports = function (args, slice, sliceEnd) {\n  var ret = [];\n  var len = args.length;\n\n  if (0 === len) return ret;\n\n  var start = slice < 0\n    ? Math.max(0, slice + len)\n    : slice || 0;\n\n  if (sliceEnd !== undefined) {\n    len = sliceEnd < 0\n      ? sliceEnd + len\n      : sliceEnd\n  }\n\n  while (len-- > start) {\n    ret[len - start] = args[len];\n  }\n\n  return ret;\n}\n\n","var sliced = require('sliced')\nvar crc32 = require('crc-32')\n\nmodule.exports = encodeChunks\n\n// Used for fast-ish conversion between uint8s and uint32s/int32s.\n// Also required in order to remain agnostic for both Node Buffers and\n// Uint8Arrays.\nvar uint8 = new Uint8Array(4)\nvar int32 = new Int32Array(uint8.buffer)\nvar uint32 = new Uint32Array(uint8.buffer)\n\nfunction encodeChunks (chunks) {\n  var totalSize = 8\n  var idx = totalSize\n  var i\n\n  for (i = 0; i < chunks.length; i++) {\n    totalSize += chunks[i].data.length\n    totalSize += 12\n  }\n\n  var output = new Uint8Array(totalSize)\n\n  output[0] = 0x89\n  output[1] = 0x50\n  output[2] = 0x4E\n  output[3] = 0x47\n  output[4] = 0x0D\n  output[5] = 0x0A\n  output[6] = 0x1A\n  output[7] = 0x0A\n\n  for (i = 0; i < chunks.length; i++) {\n    var chunk = chunks[i]\n    var name = chunk.name\n    var data = chunk.data\n    var size = data.length\n    var nameChars = [\n      name.charCodeAt(0),\n      name.charCodeAt(1),\n      name.charCodeAt(2),\n      name.charCodeAt(3)\n    ]\n\n    uint32[0] = size\n    output[idx++] = uint8[3]\n    output[idx++] = uint8[2]\n    output[idx++] = uint8[1]\n    output[idx++] = uint8[0]\n\n    output[idx++] = nameChars[0]\n    output[idx++] = nameChars[1]\n    output[idx++] = nameChars[2]\n    output[idx++] = nameChars[3]\n\n    for (var j = 0; j < size;) {\n      output[idx++] = data[j++]\n    }\n\n    var crcCheck = nameChars.concat(sliced(data))\n    var crc = crc32.buf(crcCheck)\n\n    int32[0] = crc\n    output[idx++] = uint8[3]\n    output[idx++] = uint8[2]\n    output[idx++] = uint8[1]\n    output[idx++] = uint8[0]\n  }\n\n  return output\n}\n","const extract = require('png-chunks-extract')\nconst text = require('png-chunk-text')\nconst encode = require('png-chunks-encode')\n\nconst btoa = require('../../utils/btoa')\nconst {\n  convertToBuffer,\n  convertToBinaryString,\n} = require('../data-converter')\n\nfunction metaWriter (data, metaData, outputFormat = 'buffer') {\n  let buffer = convertToBuffer(data)\n  let chunks = extract(buffer)\n\n  // remove all duplicated meta first\n  for (let i = chunks.length - 1; i >= 0; i--) {\n    const chunk = chunks[i]\n    if (chunk.name !== 'tEXt') {\n      continue\n    }\n    let ret = text.decode(chunk.data)\n\n    for (let j = 0; j < metaData.length; j++) {\n      const meta = metaData[j]\n      if (meta.name === ret.keyword && meta.value === ret.text) {\n        chunks.splice(i, 1)\n        break\n      }\n    }\n  }\n\n  // insert meta\n  for (let i = 0; i < metaData.length; i++) {\n    let meta = metaData[i]\n    \n    let value = meta.value\n    if (value.length === 0) {\n      value = 'null'\n    }\n    chunks.splice(-1, 0, text.encode(meta.name, value))\n  }\n\n  let arrayBuffer = encode(chunks)\n  if (outputFormat === 'binaryString') return convertToBinaryString(arrayBuffer)\n  if (outputFormat === 'base64') return btoa(convertToBinaryString(arrayBuffer))\n  if (outputFormat === 'dataUrl') return `data:image/png;base64,${btoa(convertToBinaryString(arrayBuffer))}`\n  if (outputFormat === 'buffer') return arrayBuffer\n}\n\nmodule.exports = metaWriter","const jpeg = require('./meta-writer/jpeg')\nconst png = require('./meta-writer/png')\n\n/**\n * Write Metadata into image data\n * \n * @param {*} data \n * @param {String} mimeType \n * @param {Array} metaData\n * @param {String} outputFormat\n *                 options: base64, binaryString, buffer, dataUrl\n */\nfunction writeMeta(data, mimeType, metaData, outputFormat) {\n  if (!data || !mimeType || !metaData || !outputFormat) {\n    throw new Error('`writeMeta` got invalid arguments')\n  }\n\n  switch (mimeType) {\n  case 'image/jpeg':\n    return jpeg(data, metaData, outputFormat)\n  case 'image/png':\n    return png(data, metaData, outputFormat)\n  default:\n    throw new Error('unsupported mimeType: ', mimeType)\n  }\n}\n\nmodule.exports = writeMeta\n","const readMeta = require('./lib/read-meta')\nconst writeMeta = require('./lib/write-meta')\n\nmodule.exports = {\n  readMeta,\n  writeMeta,\n}\n"],"names":["that","version","remove","jpeg","b64","slice","atob","split","Error","segments","splitIntoSegments","newSegments","filter","seg","new_data","join","btoa","insert","exif","exifStr","pack","length","mergeSegments","load","data","input_data","exif_dict","exifReader","ExifReader","tiftag","endian_mark","pointer","unpack","get_ifd","first_ifd_pointer","end","thumb","dump","exif_dict_original","TIFF_HEADER_LENGTH","copy","header","exif_is","gps_is","interop_is","first_is","zeroth_ifd","exif_ifd","interop_ifd","gps_ifd","first_ifd","Object","keys","indexOf","ExifIFD","InteroperabilityTag","toString","ImageIFD","ExifTag","GPSTag","zeroth_set","_dict_to_bytes","zeroth_length","exif_set","exif_bytes","exif_length","gps_set","gps_bytes","gps_length","interop_set","interop_bytes","interop_length","first_set","first_bytes","thumbnail","offset","_get_thumbnail","exif_pointer","gps_pointer","interop_pointer","pointer_value","pointer_str","key","key_str","type_str","TYPES","length_str","thumbnail_pointer","thumbnail_p_bytes","thumbnail_length_bytes","zeroth_bytes","obj","JSON","parse","stringify","concat","_pack_byte","array","nStr","_pack_short","_pack_long","_value_to_bytes","raw_value","value_type","four_bytes_over","value_str","new_value","num","den","n","ifd_dict","ifd","ifd_offset","tag_count","entry_header","entries_length","entries","values","parseInt","TAGS","b","app1","getExifSeg","prototype","ifd_name","t","x","tag","value_num","value","v_set","convert_value","val","push","Array","window","input","output","chr1","chr2","chr3","enc1","enc2","enc3","enc4","i","keyStr","charCodeAt","isNaN","charAt","replace","String","fromCharCode","mark","littleEndian","packed","p","c","valStr","toLowerCase","Math","floor","reverse","str","l","markPointer","unpacked","strPointer","sliced","ch","head","endPoint","hasExifSegment","additionalAPP1ExifSegments","forEach","segment","unshift","segmentIndex","splice","ProcessingSoftware","NewSubfileType","SubfileType","ImageWidth","ImageLength","BitsPerSample","Compression","PhotometricInterpretation","Threshholding","CellWidth","CellLength","FillOrder","DocumentName","ImageDescription","Make","Model","StripOffsets","Orientation","SamplesPerPixel","RowsPerStrip","StripByteCounts","XResolution","YResolution","PlanarConfiguration","GrayResponseUnit","GrayResponseCurve","T4Options","T6Options","ResolutionUnit","TransferFunction","Software","DateTime","Artist","HostComputer","Predictor","WhitePoint","PrimaryChromaticities","ColorMap","HalftoneHints","TileWidth","TileLength","TileOffsets","TileByteCounts","SubIFDs","InkSet","InkNames","NumberOfInks","DotRange","TargetPrinter","ExtraSamples","SampleFormat","SMinSampleValue","SMaxSampleValue","TransferRange","ClipPath","XClipPathUnits","YClipPathUnits","Indexed","JPEGTables","OPIProxy","JPEGProc","JPEGInterchangeFormat","JPEGInterchangeFormatLength","JPEGRestartInterval","JPEGLosslessPredictors","JPEGPointTransforms","JPEGQTables","JPEGDCTables","JPEGACTables","YCbCrCoefficients","YCbCrSubSampling","YCbCrPositioning","ReferenceBlackWhite","XMLPacket","Rating","RatingPercent","ImageID","CFARepeatPatternDim","CFAPattern","BatteryLevel","Copyright","ExposureTime","ImageResources","InterColorProfile","Interlace","TimeZoneOffset","SelfTimerMode","FlashEnergy","SpatialFrequencyResponse","Noise","FocalPlaneXResolution","FocalPlaneYResolution","FocalPlaneResolutionUnit","ImageNumber","SecurityClassification","ImageHistory","ExposureIndex","TIFFEPStandardID","SensingMethod","XPTitle","XPComment","XPAuthor","XPKeywords","XPSubject","PrintImageMatching","DNGVersion","DNGBackwardVersion","UniqueCameraModel","LocalizedCameraModel","CFAPlaneColor","CFALayout","LinearizationTable","BlackLevelRepeatDim","BlackLevel","BlackLevelDeltaH","BlackLevelDeltaV","WhiteLevel","DefaultScale","DefaultCropOrigin","DefaultCropSize","ColorMatrix1","ColorMatrix2","CameraCalibration1","CameraCalibration2","ReductionMatrix1","ReductionMatrix2","AnalogBalance","AsShotNeutral","AsShotWhiteXY","BaselineExposure","BaselineNoise","BaselineSharpness","BayerGreenSplit","LinearResponseLimit","CameraSerialNumber","LensInfo","ChromaBlurRadius","AntiAliasStrength","ShadowScale","DNGPrivateData","MakerNoteSafety","CalibrationIlluminant1","CalibrationIlluminant2","BestQualityScale","RawDataUniqueID","OriginalRawFileName","OriginalRawFileData","ActiveArea","MaskedAreas","AsShotICCProfile","AsShotPreProfileMatrix","CurrentICCProfile","CurrentPreProfileMatrix","ColorimetricReference","CameraCalibrationSignature","ProfileCalibrationSignature","AsShotProfileName","NoiseReductionApplied","ProfileName","ProfileHueSatMapDims","ProfileHueSatMapData1","ProfileHueSatMapData2","ProfileToneCurve","ProfileEmbedPolicy","ProfileCopyright","ForwardMatrix1","ForwardMatrix2","PreviewApplicationName","PreviewApplicationVersion","PreviewSettingsName","PreviewSettingsDigest","PreviewColorSpace","PreviewDateTime","RawImageDigest","OriginalRawFileDigest","SubTileBlockSize","RowInterleaveFactor","ProfileLookTableDims","ProfileLookTableData","OpcodeList1","OpcodeList2","OpcodeList3","NoiseProfile","FNumber","ExposureProgram","SpectralSensitivity","ISOSpeedRatings","OECF","SensitivityType","StandardOutputSensitivity","RecommendedExposureIndex","ISOSpeed","ISOSpeedLatitudeyyy","ISOSpeedLatitudezzz","ExifVersion","DateTimeOriginal","DateTimeDigitized","ComponentsConfiguration","CompressedBitsPerPixel","ShutterSpeedValue","ApertureValue","BrightnessValue","ExposureBiasValue","MaxApertureValue","SubjectDistance","MeteringMode","LightSource","Flash","FocalLength","SubjectArea","MakerNote","UserComment","SubSecTime","SubSecTimeOriginal","SubSecTimeDigitized","FlashpixVersion","ColorSpace","PixelXDimension","PixelYDimension","RelatedSoundFile","SubjectLocation","FileSource","SceneType","CustomRendered","ExposureMode","WhiteBalance","DigitalZoomRatio","FocalLengthIn35mmFilm","SceneCaptureType","GainControl","Contrast","Saturation","Sharpness","DeviceSettingDescription","SubjectDistanceRange","ImageUniqueID","CameraOwnerName","BodySerialNumber","LensSpecification","LensMake","LensModel","LensSerialNumber","Gamma","GPSIFD","GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError","InteropIFD","InteroperabilityIndex","GPSHelper","degToDmsRational","degFloat","degAbs","abs","minFloat","secFloat","deg","min","sec","round","dmsRationalToDeg","dmsArray","ref","sign","module","exports","main","Buffer","from","isDataUrl","startsWith","convertToBuffer","base64","dataUrlToBase64","isBinaryString","binaryStringToBuffer","base64ToBuffer","dataUrl","idx","substr","binaryStr","len","bytes","Uint8Array","convertToBinaryString","map","call","code","test","WORD_SEPARATOR","META_SEPARATOR","SIG","encodeMetadata","metadata","meta","decodeMetadata","string","metaStr","name","unescape","require$$0","require$$1","require$$2","metaReader","ret","results","dict","Image","Exif","GPS","id","def","decoded","isArray","CRC32","factory","DO_NOT_EXPORT_CRC","signed_crc_table","table","Int32Array","use_buffer","crc32_bstr","bstr","crc32_buf_8","crc","L","crc32_buf","buf","crc32_str","d","extractChunks","uint8","int32","buffer","uint32","Uint32Array","ended","chunks","chunk","crcActual","crcExpect","crc32","chunkData","encode","keyword","content","totalSize","j","decode","naming","text","extract","readMeta","mimeType","png","metaWriter","metaData","outputFormat","zeroth","assign","args","sliceEnd","start","max","undefined","encodeChunks","size","nameChars","crcCheck","arrayBuffer","writeMeta"],"mappings":"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"}